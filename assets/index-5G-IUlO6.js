const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-NFFBV8P7.js","assets/react-vendor-tZaoBF2e.js"])))=>i.map(i=>d[i]);
var Mu=Object.defineProperty;var Ho=t=>{throw TypeError(t)};var Lu=(t,e,r)=>e in t?Mu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var zo=(t,e,r)=>Lu(t,typeof e!="symbol"?e+"":e,r),ts=(t,e,r)=>e.has(t)||Ho("Cannot "+r);var E=(t,e,r)=>(ts(t,e,"read from private field"),r?r.call(t):e.get(t)),re=(t,e,r)=>e.has(t)?Ho("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),W=(t,e,r,n)=>(ts(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ge=(t,e,r)=>(ts(t,e,"access private method"),r);var Qr=(t,e,r,n)=>({set _(s){W(t,e,s,r)},get _(){return E(t,e,n)}});import{j as u,u as se,S as fr,a as Zi}from"./ui-vendor-D7pk14tK.js";import{a as yr,r as f,e as k,G as ea,R as Fu,g as Uu,c as $e,u as Pn,b as Bu,H as Hu,d as zu,f as Xr}from"./react-vendor-tZaoBF2e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var ta,qo=yr;ta=qo.createRoot,qo.hydrateRoot;const qu=1,Vu=1e6;let rs=0;function Wu(){return rs=(rs+1)%Number.MAX_SAFE_INTEGER,rs.toString()}const ns=new Map,Vo=t=>{if(ns.has(t))return;const e=setTimeout(()=>{ns.delete(t),Rr({type:"REMOVE_TOAST",toastId:t})},Vu);ns.set(t,e)},Ku=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,qu)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Vo(r):t.toasts.forEach(n=>{Vo(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},fn=[];let pn={toasts:[]};function Rr(t){pn=Ku(pn,t),fn.forEach(e=>{e(pn)})}function De({...t}){const e=Wu(),r=s=>Rr({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Rr({type:"DISMISS_TOAST",toastId:e});return Rr({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function Gu(){const[t,e]=f.useState(pn);return f.useEffect(()=>(fn.push(e),()=>{const r=fn.indexOf(e);r>-1&&fn.splice(r,1)}),[t]),{...t,toast:De,dismiss:r=>Rr({type:"DISMISS_TOAST",toastId:r})}}function H(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ju(t,e=[]){let r=[];function n(o,i){const a=f.createContext(i),l=r.length;r=[...r,i];function c(p){const{scope:h,children:g,...y}=p,m=(h==null?void 0:h[t][l])||a,v=f.useMemo(()=>y,Object.values(y));return u.jsx(m.Provider,{value:v,children:g})}function d(p,h){const g=(h==null?void 0:h[t][l])||a,y=f.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=r.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,Yu(s,...e)]}function Yu(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:c})=>{const p=l(o)[`__scope${c}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function ra(t){const e=t+"CollectionProvider",[r,n]=Ju(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:y,children:m}=g,v=k.useRef(null),w=k.useRef(new Map).current;return u.jsx(s,{scope:y,itemMap:w,collectionRef:v,children:m})};i.displayName=e;const a=t+"CollectionSlot",l=k.forwardRef((g,y)=>{const{scope:m,children:v}=g,w=o(a,m),x=se(y,w.collectionRef);return u.jsx(fr,{ref:x,children:v})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",p=k.forwardRef((g,y)=>{const{scope:m,children:v,...w}=g,x=k.useRef(null),b=se(y,x),_=o(c,m);return k.useEffect(()=>(_.itemMap.set(x,{ref:x,...w}),()=>void _.itemMap.delete(x))),u.jsx(fr,{[d]:"",ref:b,children:v})});p.displayName=c;function h(g){const y=o(t+"CollectionConsumer",g);return k.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((_,S)=>w.indexOf(_.ref.current)-w.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:l,ItemSlot:p},h,n]}function Qu(t,e){const r=f.createContext(e),n=o=>{const{children:i,...a}=o,l=f.useMemo(()=>a,Object.values(a));return u.jsx(r.Provider,{value:l,children:i})};n.displayName=t+"Provider";function s(o){const i=f.useContext(r);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function Hr(t,e=[]){let r=[];function n(o,i){const a=f.createContext(i),l=r.length;r=[...r,i];const c=p=>{var w;const{scope:h,children:g,...y}=p,m=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,v=f.useMemo(()=>y,Object.values(y));return u.jsx(m.Provider,{value:v,children:g})};c.displayName=o+"Provider";function d(p,h){var m;const g=((m=h==null?void 0:h[t])==null?void 0:m[l])||a,y=f.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=r.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,Xu(s,...e)]}function Xu(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:c})=>{const p=l(o)[`__scope${c}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}var Zu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Q=Zu.reduce((t,e)=>{const r=f.forwardRef((n,s)=>{const{asChild:o,...i}=n,a=o?fr:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...i,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function na(t,e){t&&yr.flushSync(()=>t.dispatchEvent(e))}function Ne(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function ed(t,e=globalThis==null?void 0:globalThis.document){const r=Ne(t);f.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var td="DismissableLayer",_s="dismissableLayer.update",rd="dismissableLayer.pointerDownOutside",nd="dismissableLayer.focusOutside",Wo,sa=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zr=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=t,c=f.useContext(sa),[d,p]=f.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=f.useState({}),y=se(e,C=>p(C)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(v),x=d?m.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=w,S=od(C=>{const T=C.target,R=[...c.branches].some(F=>F.contains(T));!_||R||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},h),P=id(C=>{const T=C.target;[...c.branches].some(F=>F.contains(T))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},h);return ed(C=>{x===c.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),f.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Wo=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Ko(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Wo)}},[d,h,r,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Ko())},[d,c]),f.useEffect(()=>{const C=()=>g({});return document.addEventListener(_s,C),()=>document.removeEventListener(_s,C)},[]),u.jsx(Q.div,{...l,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:H(t.onFocusCapture,P.onFocusCapture),onBlurCapture:H(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:H(t.onPointerDownCapture,S.onPointerDownCapture)})});zr.displayName=td;var sd="DismissableLayerBranch",oa=f.forwardRef((t,e)=>{const r=f.useContext(sa),n=f.useRef(null),s=se(e,n);return f.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),u.jsx(Q.div,{...t,ref:s})});oa.displayName=sd;function od(t,e=globalThis==null?void 0:globalThis.document){const r=Ne(t),n=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){ia(rd,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function id(t,e=globalThis==null?void 0:globalThis.document){const r=Ne(t),n=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!n.current&&ia(nd,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ko(){const t=new CustomEvent(_s);document.dispatchEvent(t)}function ia(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?na(s,o):s.dispatchEvent(o)}var ad=zr,ld=oa,be=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},cd="Portal",jn=f.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,o]=f.useState(!1);be(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?ea.createPortal(u.jsx(Q.div,{...n,ref:e}),i):null});jn.displayName=cd;function ud(t,e){return f.useReducer((r,n)=>e[r][n]??r,t)}var br=t=>{const{present:e,children:r}=t,n=dd(e),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),o=se(n.ref,hd(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:o}):null};br.displayName="Presence";function dd(t){const[e,r]=f.useState(),n=f.useRef({}),s=f.useRef(t),o=f.useRef("none"),i=t?"mounted":"unmounted",[a,l]=ud(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Zr(n.current);o.current=a==="mounted"?c:"none"},[a]),be(()=>{const c=n.current,d=s.current;if(d!==t){const h=o.current,g=Zr(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),be(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,p=g=>{const m=Zr(n.current).includes(g.animationName);if(g.target===e&&m&&(l("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=g=>{g.target===e&&(o.current=Zr(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function Zr(t){return(t==null?void 0:t.animationName)||"none"}function hd(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function yn({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=fd({defaultProp:e,onChange:r}),o=t!==void 0,i=o?t:n,a=Ne(r),l=f.useCallback(c=>{if(o){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else s(c)},[o,t,s,a]);return[i,l]}function fd({defaultProp:t,onChange:e}){const r=f.useState(t),[n]=r,s=f.useRef(n),o=Ne(e);return f.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var pd="VisuallyHidden",qr=f.forwardRef((t,e)=>u.jsx(Q.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));qr.displayName=pd;var md=qr,to="ToastProvider",[ro,gd,vd]=ra("Toast"),[aa,Ib]=Hr("Toast",[vd]),[yd,kn]=aa(to),la=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,l]=f.useState(null),[c,d]=f.useState(0),p=f.useRef(!1),h=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${to}\`. Expected non-empty \`string\`.`),u.jsx(ro.Provider,{scope:e,children:u.jsx(yd,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(g=>g+1),[]),onToastRemove:f.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:i})})};la.displayName=to;var ca="ToastViewport",bd=["F8"],Ss="toast.viewportPause",Es="toast.viewportResume",ua=f.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=bd,label:s="Notifications ({hotkey})",...o}=t,i=kn(ca,r),a=gd(r),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),p=f.useRef(null),h=se(e,p,i.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;f.useEffect(()=>{const v=w=>{var b;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((b=p.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),f.useEffect(()=>{const v=l.current,w=p.current;if(y&&v&&w){const x=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(Ss);w.dispatchEvent(P),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(Es);w.dispatchEvent(P),i.isClosePausedRef.current=!1}},_=P=>{!v.contains(P.relatedTarget)&&b()},S=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,i.isClosePausedRef]);const m=f.useCallback(({tabbingDirection:v})=>{const x=a().map(b=>{const _=b.ref.current,S=[_,...Nd(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?x.reverse():x).flat()},[a]);return f.useEffect(()=>{const v=p.current;if(v){const w=x=>{var S,P,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const T=document.activeElement,R=x.shiftKey;if(x.target===v&&R){(S=c.current)==null||S.focus();return}const N=m({tabbingDirection:R?"backwards":"forwards"}),B=N.findIndex(A=>A===T);ss(N.slice(B+1))?x.preventDefault():R?(P=c.current)==null||P.focus():(C=d.current)==null||C.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[a,m]),u.jsxs(ld,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&u.jsx(Cs,{ref:c,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});ss(v)}}),u.jsx(ro.Slot,{scope:r,children:u.jsx(Q.ol,{tabIndex:-1,...o,ref:h})}),y&&u.jsx(Cs,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});ss(v)}})]})});ua.displayName=ca;var da="ToastFocusProxy",Cs=f.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=kn(da,r);return u.jsx(qr,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&n()}})});Cs.displayName=da;var An="Toast",wd="toast.swipeStart",xd="toast.swipeMove",_d="toast.swipeCancel",Sd="toast.swipeEnd",ha=f.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=t,[a=!0,l]=yn({prop:n,defaultProp:s,onChange:o});return u.jsx(br,{present:r||a,children:u.jsx(Td,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:Ne(t.onPause),onResume:Ne(t.onResume),onSwipeStart:H(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:H(t.onSwipeMove,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:H(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:H(t.onSwipeEnd,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});ha.displayName=An;var[Ed,Cd]=aa(An,{onClose(){}}),Td=f.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:g,...y}=t,m=kn(An,r),[v,w]=f.useState(null),x=se(e,A=>w(A)),b=f.useRef(null),_=f.useRef(null),S=s||m.duration,P=f.useRef(0),C=f.useRef(S),T=f.useRef(0),{onToastAdd:R,onToastRemove:F}=m,I=Ne(()=>{var L;(v==null?void 0:v.contains(document.activeElement))&&((L=m.viewport)==null||L.focus()),i()}),N=f.useCallback(A=>{!A||A===1/0||(window.clearTimeout(T.current),P.current=new Date().getTime(),T.current=window.setTimeout(I,A))},[I]);f.useEffect(()=>{const A=m.viewport;if(A){const L=()=>{N(C.current),c==null||c()},O=()=>{const U=new Date().getTime()-P.current;C.current=C.current-U,window.clearTimeout(T.current),l==null||l()};return A.addEventListener(Ss,O),A.addEventListener(Es,L),()=>{A.removeEventListener(Ss,O),A.removeEventListener(Es,L)}}},[m.viewport,S,l,c,N]),f.useEffect(()=>{o&&!m.isClosePausedRef.current&&N(S)},[o,S,m.isClosePausedRef,N]),f.useEffect(()=>(R(),()=>F()),[R,F]);const B=f.useMemo(()=>v?ba(v):null,[v]);return m.viewport?u.jsxs(u.Fragment,{children:[B&&u.jsx(Pd,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),u.jsx(Ed,{scope:r,onClose:I,children:yr.createPortal(u.jsx(ro.ItemSlot,{scope:r,children:u.jsx(ad,{asChild:!0,onEscapeKeyDown:H(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||I(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Q.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:H(t.onKeyDown,A=>{A.key==="Escape"&&(a==null||a(A.nativeEvent),A.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:H(t.onPointerDown,A=>{A.button===0&&(b.current={x:A.clientX,y:A.clientY})}),onPointerMove:H(t.onPointerMove,A=>{if(!b.current)return;const L=A.clientX-b.current.x,O=A.clientY-b.current.y,U=!!_.current,j=["left","right"].includes(m.swipeDirection),D=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ce=j?D(0,L):0,$=j?0:D(0,O),G=A.pointerType==="touch"?10:2,J={x:ce,y:$},ue={originalEvent:A,delta:J};U?(_.current=J,en(xd,p,ue,{discrete:!1})):Go(J,m.swipeDirection,G)?(_.current=J,en(wd,d,ue,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(L)>G||Math.abs(O)>G)&&(b.current=null)}),onPointerUp:H(t.onPointerUp,A=>{const L=_.current,O=A.target;if(O.hasPointerCapture(A.pointerId)&&O.releasePointerCapture(A.pointerId),_.current=null,b.current=null,L){const U=A.currentTarget,j={originalEvent:A,delta:L};Go(L,m.swipeDirection,m.swipeThreshold)?en(Sd,g,j,{discrete:!0}):en(_d,h,j,{discrete:!0}),U.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Pd=t=>{const{__scopeToast:e,children:r,...n}=t,s=kn(An,e),[o,i]=f.useState(!1),[a,l]=f.useState(!1);return Ad(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(jn,{asChild:!0,children:u.jsx(qr,{...n,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",r]})})})},jd="ToastTitle",fa=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Q.div,{...n,ref:e})});fa.displayName=jd;var kd="ToastDescription",pa=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Q.div,{...n,ref:e})});pa.displayName=kd;var ma="ToastAction",ga=f.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?u.jsx(ya,{altText:r,asChild:!0,children:u.jsx(no,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ma}\`. Expected non-empty \`string\`.`),null)});ga.displayName=ma;var va="ToastClose",no=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Cd(va,r);return u.jsx(ya,{asChild:!0,children:u.jsx(Q.button,{type:"button",...n,ref:e,onClick:H(t.onClick,s.onClose)})})});no.displayName=va;var ya=f.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return u.jsx(Q.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function ba(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Rd(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...ba(n))}}),e}function en(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?na(s,o):s.dispatchEvent(o)}var Go=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function Ad(t=()=>{}){const e=Ne(t);be(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Rd(t){return t.nodeType===t.ELEMENT_NODE}function Nd(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function ss(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Od=la,wa=ua,xa=ha,_a=fa,Sa=pa,Ea=ga,Ca=no;function Ta(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Ta(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Pa(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Ta(t))&&(n&&(n+=" "),n+=e);return n}const Jo=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Yo=Pa,Rn=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Yo(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(c=>{const d=r==null?void 0:r[c],p=o==null?void 0:o[c];if(d===null)return null;const h=Jo(d)||Jo(p);return s[c][h]}),a=r&&Object.entries(r).reduce((c,d)=>{let[p,h]=d;return h===void 0||(c[p]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:p,className:h,...g}=d;return Object.entries(g).every(y=>{let[m,v]=y;return Array.isArray(v)?v.includes({...o,...a}[m]):{...o,...a}[m]===v})?[...c,p,h]:c},[]);return Yo(t,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ja=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...Dd,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ja("lucide",s),...a},[...i.map(([c,d])=>f.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const r=f.forwardRef(({className:n,...s},o)=>f.createElement($d,{ref:o,iconNode:e,className:ja(`lucide-${Id(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),so="-",Vd=t=>{const e=Kd(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const a=i.split(so);return a[0]===""&&a.length!==1&&a.shift(),Aa(a,e)||Wd(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},Aa=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Aa(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(so);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Qo=/^\[(.+)\]$/,Wd=t=>{if(Qo.test(t)){const e=Qo.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Kd=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Jd(Object.entries(t.classGroups),r).forEach(([o,i])=>{Ts(i,n,o,e)}),n},Ts=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Xo(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(Gd(s)){Ts(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Ts(i,Xo(e,o),r,n)})})},Xo=(t,e)=>{let r=t;return e.split(so).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Gd=t=>t.isThemeGetter,Jd=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[r,s]}):t,Yd=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Ra="!",Qd=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,i=a=>{const l=[];let c=0,d=0,p;for(let v=0;v<a.length;v++){let w=a[v];if(c===0){if(w===s&&(n||a.slice(v,v+o)===e)){l.push(a.slice(d,v)),d=v+o;continue}if(w==="/"){p=v;continue}}w==="["?c++:w==="]"&&c--}const h=l.length===0?a:a.substring(d),g=h.startsWith(Ra),y=g?h.substring(1):h,m=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:m}};return r?a=>r({className:a,parseClassName:i}):i},Xd=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Zd=t=>({cache:Yd(t.cacheSize),parseClassName:Qd(t),...Vd(t)}),eh=/\s+/,th=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(eh);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:g}=r(c);let y=!!g,m=n(y?h.substring(0,g):h);if(!m){if(!y){a=c+(a.length>0?" "+a:a);continue}if(m=n(h),!m){a=c+(a.length>0?" "+a:a);continue}y=!1}const v=Xd(d).join(":"),w=p?v+Ra:v,x=w+m;if(o.includes(x))continue;o.push(x);const b=s(m,y);for(let _=0;_<b.length;++_){const S=b[_];o.push(w+S)}a=c+(a.length>0?" "+a:a)}return a};function rh(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Na(e))&&(n&&(n+=" "),n+=r);return n}const Na=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Na(t[n]))&&(r&&(r+=" "),r+=e);return r};function nh(t,...e){let r,n,s,o=i;function i(l){const c=e.reduce((d,p)=>p(d),t());return r=Zd(c),n=r.cache.get,s=r.cache.set,o=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=th(l,r);return s(l,d),d}return function(){return o(rh.apply(null,arguments))}}const le=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Oa=/^\[(?:([a-z-]+):)?(.+)\]$/i,sh=/^\d+\/\d+$/,oh=new Set(["px","full","screen"]),ih=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ah=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ch=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,et=t=>Xt(t)||oh.has(t)||sh.test(t),ct=t=>wr(t,"length",yh),Xt=t=>!!t&&!Number.isNaN(Number(t)),os=t=>wr(t,"number",Xt),Tr=t=>!!t&&Number.isInteger(Number(t)),dh=t=>t.endsWith("%")&&Xt(t.slice(0,-1)),q=t=>Oa.test(t),ut=t=>ih.test(t),hh=new Set(["length","size","percentage"]),fh=t=>wr(t,hh,Ia),ph=t=>wr(t,"position",Ia),mh=new Set(["image","url"]),gh=t=>wr(t,mh,wh),vh=t=>wr(t,"",bh),Pr=()=>!0,wr=(t,e,r)=>{const n=Oa.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},yh=t=>ah.test(t)&&!lh.test(t),Ia=()=>!1,bh=t=>ch.test(t),wh=t=>uh.test(t),xh=()=>{const t=le("colors"),e=le("spacing"),r=le("blur"),n=le("brightness"),s=le("borderColor"),o=le("borderRadius"),i=le("borderSpacing"),a=le("borderWidth"),l=le("contrast"),c=le("grayscale"),d=le("hueRotate"),p=le("invert"),h=le("gap"),g=le("gradientColorStops"),y=le("gradientColorStopPositions"),m=le("inset"),v=le("margin"),w=le("opacity"),x=le("padding"),b=le("saturate"),_=le("scale"),S=le("sepia"),P=le("skew"),C=le("space"),T=le("translate"),R=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",q,e],N=()=>[q,e],B=()=>["",et,ct],A=()=>["auto",Xt,q],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",q],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Xt,q];return{cacheSize:500,separator:":",theme:{colors:[Pr],spacing:[et,ct],blur:["none","",ut,q],brightness:$(),borderColor:[t],borderRadius:["none","","full",ut,q],borderSpacing:N(),borderWidth:B(),contrast:$(),grayscale:D(),hueRotate:$(),invert:D(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[dh,ct],inset:I(),margin:I(),opacity:$(),padding:N(),saturate:$(),scale:$(),sepia:D(),skew:$(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[ut]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),q]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tr,q]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Tr,q]}],"grid-cols":[{"grid-cols":[Pr]}],"col-start-end":[{col:["auto",{span:["full",Tr,q]},q]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Pr]}],"row-start-end":[{row:["auto",{span:[Tr,q]},q]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",q,e]}],"min-w":[{"min-w":[q,e,"min","max","fit"]}],"max-w":[{"max-w":[q,e,"none","full","min","max","fit","prose",{screen:[ut]},ut]}],h:[{h:[q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ut,ct]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",os]}],"font-family":[{font:[Pr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",Xt,os]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",et,q]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",et,ct]}],"underline-offset":[{"underline-offset":["auto",et,q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),ph]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fh]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gh]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[et,q]}],"outline-w":[{outline:[et,ct]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[et,ct]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ut,vh]}],"shadow-color":[{shadow:[Pr]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ut,q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Tr,q]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[et,ct,os]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_h=nh(xh);function Y(...t){return _h(Pa(t))}const Sh=Od,Da=f.forwardRef(({className:t,...e},r)=>u.jsx(wa,{ref:r,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Da.displayName=wa.displayName;const Eh=Rn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$a=f.forwardRef(({className:t,variant:e,...r},n)=>u.jsx(xa,{ref:n,className:Y(Eh({variant:e}),t),...r}));$a.displayName=xa.displayName;const Ch=f.forwardRef(({className:t,...e},r)=>u.jsx(Ea,{ref:r,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Ch.displayName=Ea.displayName;const Ma=f.forwardRef(({className:t,...e},r)=>u.jsx(Ca,{ref:r,className:Y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(qd,{className:"h-4 w-4"})}));Ma.displayName=Ca.displayName;const La=f.forwardRef(({className:t,...e},r)=>u.jsx(_a,{ref:r,className:Y("text-sm font-semibold",t),...e}));La.displayName=_a.displayName;const Fa=f.forwardRef(({className:t,...e},r)=>u.jsx(Sa,{ref:r,className:Y("text-sm opacity-90",t),...e}));Fa.displayName=Sa.displayName;function Th(){const{toasts:t}=Gu();return u.jsxs(Sh,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return u.jsxs($a,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(La,{children:r}),n&&u.jsx(Fa,{children:n})]}),s,u.jsx(Ma,{})]},e)}),u.jsx(Da,{})]})}var Zo=["light","dark"],Ph="(prefers-color-scheme: dark)",jh=f.createContext(void 0),kh={setTheme:t=>{},themes:[]},Ah=()=>{var t;return(t=f.useContext(jh))!=null?t:kh};f.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,p=s?Zo.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,m=!1,v=!0)=>{let w=i?i[y]:y,x=m?y+"|| ''":`'${w}'`,b="";return s&&v&&!m&&Zo.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?m||w?b+=`c.add(${x})`:b+="null":w&&(b+=`d[s](n,${x})`),b},g=t?`!function(){${d}${h(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Ph}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${c?"":"else{"+h(o,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${p}}catch(t){}}();`;return f.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var Rh=t=>{switch(t){case"success":return Ih;case"info":return $h;case"warning":return Dh;case"error":return Mh;default:return null}},Nh=Array(12).fill(0),Oh=({visible:t})=>k.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},k.createElement("div",{className:"sonner-spinner"},Nh.map((e,r)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Ih=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Dh=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$h=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Mh=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Lh=()=>{let[t,e]=k.useState(document.hidden);return k.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Ps=1,Fh=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ps++,o=this.toasts.find(a=>a.id===s),i=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0;return n.then(async o=>{if(Bh(o)&&!o.ok){s=!1;let i=typeof e.error=="function"?await e.error(`HTTP error! status: ${o.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${o.status}`):e.description;this.create({id:r,type:"error",message:i,description:a})}else if(e.success!==void 0){s=!1;let i=typeof e.success=="function"?await e.success(o):e.success,a=typeof e.description=="function"?await e.description(o):e.description;this.create({id:r,type:"success",message:i,description:a})}}).catch(async o=>{if(e.error!==void 0){s=!1;let i=typeof e.error=="function"?await e.error(o):e.error,a=typeof e.description=="function"?await e.description(o):e.description;this.create({id:r,type:"error",message:i,description:a})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=e.finally)==null||o.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Ps++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},ke=new Fh,Uh=(t,e)=>{let r=(e==null?void 0:e.id)||Ps++;return ke.addToast({title:t,...e,id:r}),r},Bh=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Hh=Uh,zh=()=>ke.toasts;Object.assign(Hh,{success:ke.success,info:ke.info,warning:ke.warning,error:ke.error,custom:ke.custom,message:ke.message,promise:ke.promise,dismiss:ke.dismiss,loading:ke.loading},{getHistory:zh});function qh(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}qh(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tn(t){return t.label!==void 0}var Vh=3,Wh="32px",Kh=4e3,Gh=356,Jh=14,Yh=20,Qh=200;function Xh(...t){return t.filter(Boolean).join(" ")}var Zh=t=>{var e,r,n,s,o,i,a,l,c,d;let{invert:p,toast:h,unstyled:g,interacting:y,setHeights:m,visibleToasts:v,heights:w,index:x,toasts:b,expanded:_,removeToast:S,defaultRichColors:P,closeButton:C,style:T,cancelButtonStyle:R,actionButtonStyle:F,className:I="",descriptionClassName:N="",duration:B,position:A,gap:L,loadingIcon:O,expandByDefault:U,classNames:j,icons:D,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:$,cn:G}=t,[J,ue]=k.useState(!1),[Se,ne]=k.useState(!1),[M,ee]=k.useState(!1),[de,X]=k.useState(!1),[te,Z]=k.useState(0),[we,Te]=k.useState(0),at=k.useRef(null),Oe=k.useRef(null),At=x===0,Xn=x+1<=v,me=h.type,Ht=h.dismissible!==!1,Au=h.className||"",Ru=h.descriptionClassName||"",Jr=k.useMemo(()=>w.findIndex(z=>z.toastId===h.id)||0,[w,h.id]),Nu=k.useMemo(()=>{var z;return(z=h.closeButton)!=null?z:C},[h.closeButton,C]),Mo=k.useMemo(()=>h.duration||B||Kh,[h.duration,B]),Zn=k.useRef(0),zt=k.useRef(0),Lo=k.useRef(0),qt=k.useRef(null),[Fo,Ou]=A.split("-"),Uo=k.useMemo(()=>w.reduce((z,ae,oe)=>oe>=Jr?z:z+ae.height,0),[w,Jr]),Bo=Lh(),Iu=h.invert||p,es=me==="loading";zt.current=k.useMemo(()=>Jr*L+Uo,[Jr,Uo]),k.useEffect(()=>{ue(!0)},[]),k.useLayoutEffect(()=>{if(!J)return;let z=Oe.current,ae=z.style.height;z.style.height="auto";let oe=z.getBoundingClientRect().height;z.style.height=ae,Te(oe),m(qe=>qe.find(Ve=>Ve.toastId===h.id)?qe.map(Ve=>Ve.toastId===h.id?{...Ve,height:oe}:Ve):[{toastId:h.id,height:oe,position:h.position},...qe])},[J,h.title,h.description,m,h.id]);let lt=k.useCallback(()=>{ne(!0),Z(zt.current),m(z=>z.filter(ae=>ae.toastId!==h.id)),setTimeout(()=>{S(h)},Qh)},[h,S,m,zt]);k.useEffect(()=>{if(h.promise&&me==="loading"||h.duration===1/0||h.type==="loading")return;let z,ae=Mo;return _||y||$&&Bo?(()=>{if(Lo.current<Zn.current){let oe=new Date().getTime()-Zn.current;ae=ae-oe}Lo.current=new Date().getTime()})():ae!==1/0&&(Zn.current=new Date().getTime(),z=setTimeout(()=>{var oe;(oe=h.onAutoClose)==null||oe.call(h,h),lt()},ae)),()=>clearTimeout(z)},[_,y,U,h,Mo,lt,h.promise,me,$,Bo]),k.useEffect(()=>{let z=Oe.current;if(z){let ae=z.getBoundingClientRect().height;return Te(ae),m(oe=>[{toastId:h.id,height:ae,position:h.position},...oe]),()=>m(oe=>oe.filter(qe=>qe.toastId!==h.id))}},[m,h.id]),k.useEffect(()=>{h.delete&&lt()},[lt,h.delete]);function Du(){return D!=null&&D.loading?k.createElement("div",{className:"sonner-loader","data-visible":me==="loading"},D.loading):O?k.createElement("div",{className:"sonner-loader","data-visible":me==="loading"},O):k.createElement(Oh,{visible:me==="loading"})}return k.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Oe,className:G(I,Au,j==null?void 0:j.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[me],(r=h==null?void 0:h.classNames)==null?void 0:r[me]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:P,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":J,"data-promise":!!h.promise,"data-removed":Se,"data-visible":Xn,"data-y-position":Fo,"data-x-position":Ou,"data-index":x,"data-front":At,"data-swiping":M,"data-dismissible":Ht,"data-type":me,"data-invert":Iu,"data-swipe-out":de,"data-expanded":!!(_||U&&J),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${Se?te:zt.current}px`,"--initial-height":U?"auto":`${we}px`,...T,...h.style},onPointerDown:z=>{es||!Ht||(at.current=new Date,Z(zt.current),z.target.setPointerCapture(z.pointerId),z.target.tagName!=="BUTTON"&&(ee(!0),qt.current={x:z.clientX,y:z.clientY}))},onPointerUp:()=>{var z,ae,oe,qe;if(de||!Ht)return;qt.current=null;let Ve=Number(((z=Oe.current)==null?void 0:z.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Yr=new Date().getTime()-((ae=at.current)==null?void 0:ae.getTime()),$u=Math.abs(Ve)/Yr;if(Math.abs(Ve)>=Yh||$u>.11){Z(zt.current),(oe=h.onDismiss)==null||oe.call(h,h),lt(),X(!0);return}(qe=Oe.current)==null||qe.style.setProperty("--swipe-amount","0px"),ee(!1)},onPointerMove:z=>{var ae;if(!qt.current||!Ht)return;let oe=z.clientY-qt.current.y,qe=z.clientX-qt.current.x,Ve=(Fo==="top"?Math.min:Math.max)(0,oe),Yr=z.pointerType==="touch"?10:2;Math.abs(Ve)>Yr?(ae=Oe.current)==null||ae.style.setProperty("--swipe-amount",`${oe}px`):Math.abs(qe)>Yr&&(qt.current=null)}},Nu&&!h.jsx?k.createElement("button",{"aria-label":ce,"data-disabled":es,"data-close-button":!0,onClick:es||!Ht?()=>{}:()=>{var z;lt(),(z=h.onDismiss)==null||z.call(h,h)},className:G(j==null?void 0:j.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||k.isValidElement(h.title)?h.jsx||h.title:k.createElement(k.Fragment,null,me||h.icon||h.promise?k.createElement("div",{"data-icon":"",className:G(j==null?void 0:j.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Du():null,h.type!=="loading"?h.icon||(D==null?void 0:D[me])||Rh(me):null):null,k.createElement("div",{"data-content":"",className:G(j==null?void 0:j.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},k.createElement("div",{"data-title":"",className:G(j==null?void 0:j.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?k.createElement("div",{"data-description":"",className:G(N,Ru,j==null?void 0:j.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),k.isValidElement(h.cancel)?h.cancel:h.cancel&&tn(h.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:z=>{var ae,oe;tn(h.cancel)&&Ht&&((oe=(ae=h.cancel).onClick)==null||oe.call(ae,z),lt())},className:G(j==null?void 0:j.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,k.isValidElement(h.action)?h.action:h.action&&tn(h.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||F,onClick:z=>{var ae,oe;tn(h.action)&&(z.defaultPrevented||((oe=(ae=h.action).onClick)==null||oe.call(ae,z),lt()))},className:G(j==null?void 0:j.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function ei(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var ef=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:a,theme:l="light",richColors:c,duration:d,style:p,visibleToasts:h=Vh,toastOptions:g,dir:y=ei(),gap:m=Jh,loadingIcon:v,icons:w,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:b,cn:_=Xh}=t,[S,P]=k.useState([]),C=k.useMemo(()=>Array.from(new Set([r].concat(S.filter($=>$.position).map($=>$.position)))),[S,r]),[T,R]=k.useState([]),[F,I]=k.useState(!1),[N,B]=k.useState(!1),[A,L]=k.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=k.useRef(null),U=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=k.useRef(null),D=k.useRef(!1),ce=k.useCallback($=>{var G;(G=S.find(J=>J.id===$.id))!=null&&G.delete||ke.dismiss($.id),P(J=>J.filter(({id:ue})=>ue!==$.id))},[S]);return k.useEffect(()=>ke.subscribe($=>{if($.dismiss){P(G=>G.map(J=>J.id===$.id?{...J,delete:!0}:J));return}setTimeout(()=>{ea.flushSync(()=>{P(G=>{let J=G.findIndex(ue=>ue.id===$.id);return J!==-1?[...G.slice(0,J),{...G[J],...$},...G.slice(J+1)]:[$,...G]})})})}),[]),k.useEffect(()=>{if(l!=="system"){L(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{L($?"dark":"light")})},[l]),k.useEffect(()=>{S.length<=1&&I(!1)},[S]),k.useEffect(()=>{let $=G=>{var J,ue;n.every(Se=>G[Se]||G.code===Se)&&(I(!0),(J=O.current)==null||J.focus()),G.code==="Escape"&&(document.activeElement===O.current||(ue=O.current)!=null&&ue.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[n]),k.useEffect(()=>{if(O.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,D.current=!1)}},[O.current]),S.length?k.createElement("section",{"aria-label":`${x} ${U}`,tabIndex:-1},C.map(($,G)=>{var J;let[ue,Se]=$.split("-");return k.createElement("ol",{key:$,dir:y==="auto"?ei():y,tabIndex:-1,ref:O,className:i,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":ue,"data-x-position":Se,style:{"--front-toast-height":`${((J=T[0])==null?void 0:J.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||Wh,"--width":`${Gh}px`,"--gap":`${m}px`,...p},onBlur:ne=>{D.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(D.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||D.current||(D.current=!0,j.current=ne.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{N||I(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},S.filter(ne=>!ne.position&&G===0||ne.position===$).map((ne,M)=>{var ee,de;return k.createElement(Zh,{key:ne.id,icons:w,index:M,toast:ne,defaultRichColors:c,duration:(ee=g==null?void 0:g.duration)!=null?ee:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:h,closeButton:(de=g==null?void 0:g.closeButton)!=null?de:o,interacting:N,position:$,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ce,toasts:S.filter(X=>X.position==ne.position),heights:T.filter(X=>X.position==ne.position),setHeights:R,expandByDefault:s,gap:m,loadingIcon:v,expanded:F,pauseWhenPageIsHidden:b,cn:_})}))})):null};const tf=({...t})=>{const{theme:e="system"}=Ah();return u.jsx(ef,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var rf=Fu.useId||(()=>{}),nf=0;function Zt(t){const[e,r]=f.useState(rf());return be(()=>{r(n=>n??String(nf++))},[t]),e?`radix-${e}`:""}const sf=["top","right","bottom","left"],St=Math.min,Ae=Math.max,bn=Math.round,rn=Math.floor,Et=t=>({x:t,y:t}),of={left:"right",right:"left",bottom:"top",top:"bottom"},af={start:"end",end:"start"};function js(t,e,r){return Ae(t,St(e,r))}function nt(t,e){return typeof t=="function"?t(e):t}function st(t){return t.split("-")[0]}function xr(t){return t.split("-")[1]}function oo(t){return t==="x"?"y":"x"}function io(t){return t==="y"?"height":"width"}function Ct(t){return["top","bottom"].includes(st(t))?"y":"x"}function ao(t){return oo(Ct(t))}function lf(t,e,r){r===void 0&&(r=!1);const n=xr(t),s=ao(t),o=io(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=wn(i)),[i,wn(i)]}function cf(t){const e=wn(t);return[ks(t),e,ks(e)]}function ks(t){return t.replace(/start|end/g,e=>af[e])}function uf(t,e,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?o:i;default:return[]}}function df(t,e,r,n){const s=xr(t);let o=uf(st(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(ks)))),o}function wn(t){return t.replace(/left|right|bottom|top/g,e=>of[e])}function hf(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ua(t){return typeof t!="number"?hf(t):{top:t,right:t,bottom:t,left:t}}function xn(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function ti(t,e,r){let{reference:n,floating:s}=t;const o=Ct(e),i=ao(e),a=io(i),l=st(e),c=o==="y",d=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:p};break;case"left":g={x:n.x-s.width,y:p};break;default:g={x:n.x,y:n.y}}switch(xr(e)){case"start":g[i]-=h*(r&&c?-1:1);break;case"end":g[i]+=h*(r&&c?-1:1);break}return g}const ff=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=ti(c,n,l),h=n,g={},y=0;for(let m=0;m<a.length;m++){const{name:v,fn:w}=a[m],{x,y:b,data:_,reset:S}=await w({x:d,y:p,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:c,platform:i,elements:{reference:t,floating:e}});d=x??d,p=b??p,g={...g,[v]:{...g[v],..._}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:p}=ti(c,h,l)),m=-1)}return{x:d,y:p,placement:h,strategy:s,middlewareData:g}};async function Dr(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:g=0}=nt(e,t),y=Ua(g),v=a[h?p==="floating"?"reference":"floating":p],w=xn(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=p==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=xn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:l}):x);return{top:(w.top-S.top+y.top)/_.y,bottom:(S.bottom-w.bottom+y.bottom)/_.y,left:(w.left-S.left+y.left)/_.x,right:(S.right-w.right+y.right)/_.x}}const pf=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=nt(t,e)||{};if(c==null)return{};const p=Ua(d),h={x:r,y:n},g=ao(s),y=io(g),m=await i.getDimensions(c),v=g==="y",w=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=o.reference[y]+o.reference[g]-h[g]-o.floating[y],S=h[g]-o.reference[g],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=P?P[b]:0;(!C||!await(i.isElement==null?void 0:i.isElement(P)))&&(C=a.floating[b]||o.floating[y]);const T=_/2-S/2,R=C/2-m[y]/2-1,F=St(p[w],R),I=St(p[x],R),N=F,B=C-m[y]-I,A=C/2-m[y]/2+T,L=js(N,A,B),O=!l.arrow&&xr(s)!=null&&A!==L&&o.reference[y]/2-(A<N?F:I)-m[y]/2<0,U=O?A<N?A-N:A-B:0;return{[g]:h[g]+U,data:{[g]:L,centerOffset:A-L-U,...O&&{alignmentOffset:U}},reset:O}}}),mf=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...v}=nt(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=st(s),x=Ct(a),b=st(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(b||!m?[wn(a)]:cf(a)),P=y!=="none";!h&&P&&S.push(...df(a,m,y,_));const C=[a,...S],T=await Dr(e,v),R=[];let F=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&R.push(T[w]),p){const A=lf(s,i,_);R.push(T[A[0]],T[A[1]])}if(F=[...F,{placement:s,overflows:R}],!R.every(A=>A<=0)){var I,N;const A=(((I=o.flip)==null?void 0:I.index)||0)+1,L=C[A];if(L)return{data:{index:A,overflows:F},reset:{placement:L}};let O=(N=F.filter(U=>U.overflows[0]<=0).sort((U,j)=>U.overflows[1]-j.overflows[1])[0])==null?void 0:N.placement;if(!O)switch(g){case"bestFit":{var B;const U=(B=F.filter(j=>{if(P){const D=Ct(j.placement);return D===x||D==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(D=>D>0).reduce((D,ce)=>D+ce,0)]).sort((j,D)=>j[1]-D[1])[0])==null?void 0:B[0];U&&(O=U);break}case"initialPlacement":O=a;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function ri(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ni(t){return sf.some(e=>t[e]>=0)}const gf=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=nt(t,e);switch(n){case"referenceHidden":{const o=await Dr(e,{...s,elementContext:"reference"}),i=ri(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ni(i)}}}case"escaped":{const o=await Dr(e,{...s,altBoundary:!0}),i=ri(o,r.floating);return{data:{escapedOffsets:i,escaped:ni(i)}}}default:return{}}}}};async function vf(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=st(r),a=xr(r),l=Ct(r)==="y",c=["left","top"].includes(i)?-1:1,d=o&&l?-1:1,p=nt(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof y=="number"&&(g=a==="end"?y*-1:y),l?{x:g*d,y:h*c}:{x:h*c,y:g*d}}const yf=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await vf(e,t);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},bf=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:v=>{let{x:w,y:x}=v;return{x:w,y:x}}},...l}=nt(t,e),c={x:r,y:n},d=await Dr(e,l),p=Ct(st(s)),h=oo(p);let g=c[h],y=c[p];if(o){const v=h==="y"?"top":"left",w=h==="y"?"bottom":"right",x=g+d[v],b=g-d[w];g=js(x,g,b)}if(i){const v=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=y+d[v],b=y-d[w];y=js(x,y,b)}const m=a.fn({...e,[h]:g,[p]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:o,[p]:i}}}}}},wf=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=nt(t,e),d={x:r,y:n},p=Ct(s),h=oo(p);let g=d[h],y=d[p];const m=nt(a,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",_=o.reference[h]-o.floating[b]+v.mainAxis,S=o.reference[h]+o.reference[b]-v.mainAxis;g<_?g=_:g>S&&(g=S)}if(c){var w,x;const b=h==="y"?"width":"height",_=["top","left"].includes(st(s)),S=o.reference[p]-o.floating[b]+(_&&((w=i.offset)==null?void 0:w[p])||0)+(_?0:v.crossAxis),P=o.reference[p]+o.reference[b]+(_?0:((x=i.offset)==null?void 0:x[p])||0)-(_?v.crossAxis:0);y<S?y=S:y>P&&(y=P)}return{[h]:g,[p]:y}}}},xf=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...c}=nt(t,e),d=await Dr(e,c),p=st(s),h=xr(s),g=Ct(s)==="y",{width:y,height:m}=o.floating;let v,w;p==="top"||p==="bottom"?(v=p,w=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,v=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,b=y-d.left-d.right,_=St(m-d[v],x),S=St(y-d[w],b),P=!e.middlewareData.shift;let C=_,T=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=x),P&&!h){const F=Ae(d.left,0),I=Ae(d.right,0),N=Ae(d.top,0),B=Ae(d.bottom,0);g?T=y-2*(F!==0||I!==0?F+I:Ae(d.left,d.right)):C=m-2*(N!==0||B!==0?N+B:Ae(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:C});const R=await i.getDimensions(a.floating);return y!==R.width||m!==R.height?{reset:{rects:!0}}:{}}}};function Nn(){return typeof window<"u"}function _r(t){return Ba(t)?(t.nodeName||"").toLowerCase():"#document"}function Re(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ze(t){var e;return(e=(Ba(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ba(t){return Nn()?t instanceof Node||t instanceof Re(t).Node:!1}function Be(t){return Nn()?t instanceof Element||t instanceof Re(t).Element:!1}function Xe(t){return Nn()?t instanceof HTMLElement||t instanceof Re(t).HTMLElement:!1}function si(t){return!Nn()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Re(t).ShadowRoot}function Vr(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=He(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function _f(t){return["table","td","th"].includes(_r(t))}function On(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function lo(t){const e=co(),r=Be(t)?He(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Sf(t){let e=Tt(t);for(;Xe(e)&&!pr(e);){if(lo(e))return e;if(On(e))return null;e=Tt(e)}return null}function co(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pr(t){return["html","body","#document"].includes(_r(t))}function He(t){return Re(t).getComputedStyle(t)}function In(t){return Be(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Tt(t){if(_r(t)==="html")return t;const e=t.assignedSlot||t.parentNode||si(t)&&t.host||Ze(t);return si(e)?e.host:e}function Ha(t){const e=Tt(t);return pr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xe(e)&&Vr(e)?e:Ha(e)}function $r(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Ha(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=Re(s);if(o){const a=As(i);return e.concat(i,i.visualViewport||[],Vr(s)?s:[],a&&r?$r(a):[])}return e.concat(s,$r(s,[],r))}function As(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function za(t){const e=He(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Xe(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,a=bn(r)!==o||bn(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function uo(t){return Be(t)?t:t.contextElement}function er(t){const e=uo(t);if(!Xe(e))return Et(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=za(e);let i=(o?bn(r.width):r.width)/n,a=(o?bn(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const Ef=Et(0);function qa(t){const e=Re(t);return!co()||!e.visualViewport?Ef:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Cf(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Re(t)?!1:e}function Lt(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=uo(t);let i=Et(1);e&&(n?Be(n)&&(i=er(n)):i=er(t));const a=Cf(o,r,n)?qa(o):Et(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,p=s.height/i.y;if(o){const h=Re(o),g=n&&Be(n)?Re(n):n;let y=h,m=As(y);for(;m&&n&&g!==y;){const v=er(m),w=m.getBoundingClientRect(),x=He(m),b=w.left+(m.clientLeft+parseFloat(x.paddingLeft))*v.x,_=w.top+(m.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,p*=v.y,l+=b,c+=_,y=Re(m),m=As(y)}}return xn({width:d,height:p,x:l,y:c})}function Tf(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=Ze(n),a=e?On(e.floating):!1;if(n===i||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=Et(1);const d=Et(0),p=Xe(n);if((p||!p&&!o)&&((_r(n)!=="body"||Vr(i))&&(l=In(n)),Xe(n))){const h=Lt(n);c=er(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x,y:r.y*c.y-l.scrollTop*c.y+d.y}}function Pf(t){return Array.from(t.getClientRects())}function Rs(t,e){const r=In(t).scrollLeft;return e?e.left+r:Lt(Ze(t)).left+r}function jf(t){const e=Ze(t),r=In(t),n=t.ownerDocument.body,s=Ae(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Ae(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Rs(t);const a=-r.scrollTop;return He(n).direction==="rtl"&&(i+=Ae(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function kf(t,e){const r=Re(t),n=Ze(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=co();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function Af(t,e){const r=Lt(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Xe(t)?er(t):Et(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,c=n*o.y;return{width:i,height:a,x:l,y:c}}function oi(t,e,r){let n;if(e==="viewport")n=kf(t,r);else if(e==="document")n=jf(Ze(t));else if(Be(e))n=Af(e,r);else{const s=qa(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return xn(n)}function Va(t,e){const r=Tt(t);return r===e||!Be(r)||pr(r)?!1:He(r).position==="fixed"||Va(r,e)}function Rf(t,e){const r=e.get(t);if(r)return r;let n=$r(t,[],!1).filter(a=>Be(a)&&_r(a)!=="body"),s=null;const o=He(t).position==="fixed";let i=o?Tt(t):t;for(;Be(i)&&!pr(i);){const a=He(i),l=lo(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Vr(i)&&!l&&Va(t,i))?n=n.filter(d=>d!==i):s=a,i=Tt(i)}return e.set(t,n),n}function Nf(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?On(e)?[]:Rf(e,this._c):[].concat(r),n],a=i[0],l=i.reduce((c,d)=>{const p=oi(e,d,s);return c.top=Ae(p.top,c.top),c.right=St(p.right,c.right),c.bottom=St(p.bottom,c.bottom),c.left=Ae(p.left,c.left),c},oi(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Of(t){const{width:e,height:r}=za(t);return{width:e,height:r}}function If(t,e,r){const n=Xe(e),s=Ze(e),o=r==="fixed",i=Lt(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Et(0);if(n||!n&&!o)if((_r(e)!=="body"||Vr(s))&&(a=In(e)),n){const g=Lt(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=Rs(s));let c=0,d=0;if(s&&!n&&!o){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-Rs(s,g)}const p=i.left+a.scrollLeft-l.x-c,h=i.top+a.scrollTop-l.y-d;return{x:p,y:h,width:i.width,height:i.height}}function is(t){return He(t).position==="static"}function ii(t,e){if(!Xe(t)||He(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ze(t)===r&&(r=r.ownerDocument.body),r}function Wa(t,e){const r=Re(t);if(On(t))return r;if(!Xe(t)){let s=Tt(t);for(;s&&!pr(s);){if(Be(s)&&!is(s))return s;s=Tt(s)}return r}let n=ii(t,e);for(;n&&_f(n)&&is(n);)n=ii(n,e);return n&&pr(n)&&is(n)&&!lo(n)?r:n||Sf(t)||r}const Df=async function(t){const e=this.getOffsetParent||Wa,r=this.getDimensions,n=await r(t.floating);return{reference:If(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $f(t){return He(t).direction==="rtl"}const Mf={convertOffsetParentRelativeRectToViewportRelativeRect:Tf,getDocumentElement:Ze,getClippingRect:Nf,getOffsetParent:Wa,getElementRects:Df,getClientRects:Pf,getDimensions:Of,getScale:er,isElement:Be,isRTL:$f};function Lf(t,e){let r=null,n;const s=Ze(t);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:d,width:p,height:h}=t.getBoundingClientRect();if(a||e(),!p||!h)return;const g=rn(d),y=rn(s.clientWidth-(c+p)),m=rn(s.clientHeight-(d+h)),v=rn(c),x={rootMargin:-g+"px "+-y+"px "+-m+"px "+-v+"px",threshold:Ae(0,St(1,l))||1};let b=!0;function _(S){const P=S[0].intersectionRatio;if(P!==l){if(!b)return i();P?i(!1,P):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(_,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(t)}return i(!0),o}function Ff(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=uo(t),d=s||o?[...c?$r(c):[],...$r(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const p=c&&a?Lf(c,r):null;let h=-1,g=null;i&&(g=new ResizeObserver(w=>{let[x]=w;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),r()}),c&&!l&&g.observe(c),g.observe(e));let y,m=l?Lt(t):null;l&&v();function v(){const w=Lt(t);m&&(w.x!==m.x||w.y!==m.y||w.width!==m.width||w.height!==m.height)&&r(),m=w,y=requestAnimationFrame(v)}return r(),()=>{var w;d.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),p==null||p(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const Uf=yf,Bf=bf,Hf=mf,zf=xf,qf=gf,ai=pf,Vf=wf,Wf=(t,e,r)=>{const n=new Map,s={platform:Mf,...r},o={...s.platform,_c:n};return ff(t,e,{...s,platform:o})};var mn=typeof document<"u"?f.useLayoutEffect:f.useEffect;function _n(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!_n(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!_n(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Ka(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function li(t,e){const r=Ka(t);return Math.round(e*r)/r}function as(t){const e=f.useRef(t);return mn(()=>{e.current=t}),e}function Kf(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,p]=f.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=f.useState(n);_n(h,n)||g(n);const[y,m]=f.useState(null),[v,w]=f.useState(null),x=f.useCallback(j=>{j!==P.current&&(P.current=j,m(j))},[]),b=f.useCallback(j=>{j!==C.current&&(C.current=j,w(j))},[]),_=o||y,S=i||v,P=f.useRef(null),C=f.useRef(null),T=f.useRef(d),R=l!=null,F=as(l),I=as(s),N=as(c),B=f.useCallback(()=>{if(!P.current||!C.current)return;const j={placement:e,strategy:r,middleware:h};I.current&&(j.platform=I.current),Wf(P.current,C.current,j).then(D=>{const ce={...D,isPositioned:N.current!==!1};A.current&&!_n(T.current,ce)&&(T.current=ce,yr.flushSync(()=>{p(ce)}))})},[h,e,r,I,N]);mn(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[c]);const A=f.useRef(!1);mn(()=>(A.current=!0,()=>{A.current=!1}),[]),mn(()=>{if(_&&(P.current=_),S&&(C.current=S),_&&S){if(F.current)return F.current(_,S,B);B()}},[_,S,B,F,R]);const L=f.useMemo(()=>({reference:P,floating:C,setReference:x,setFloating:b}),[x,b]),O=f.useMemo(()=>({reference:_,floating:S}),[_,S]),U=f.useMemo(()=>{const j={position:r,left:0,top:0};if(!O.floating)return j;const D=li(O.floating,d.x),ce=li(O.floating,d.y);return a?{...j,transform:"translate("+D+"px, "+ce+"px)",...Ka(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:ce}},[r,a,O.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:B,refs:L,elements:O,floatingStyles:U}),[d,B,L,O,U])}const Gf=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?ai({element:n.current,padding:s}).fn(r):{}:n?ai({element:n,padding:s}).fn(r):{}}}},Jf=(t,e)=>({...Uf(t),options:[t,e]}),Yf=(t,e)=>({...Bf(t),options:[t,e]}),Qf=(t,e)=>({...Vf(t),options:[t,e]}),Xf=(t,e)=>({...Hf(t),options:[t,e]}),Zf=(t,e)=>({...zf(t),options:[t,e]}),ep=(t,e)=>({...qf(t),options:[t,e]}),tp=(t,e)=>({...Gf(t),options:[t,e]});var rp="Arrow",Ga=f.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return u.jsx(Q.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ga.displayName=rp;var np=Ga;function sp(t,e=[]){let r=[];function n(o,i){const a=f.createContext(i),l=r.length;r=[...r,i];function c(p){const{scope:h,children:g,...y}=p,m=(h==null?void 0:h[t][l])||a,v=f.useMemo(()=>y,Object.values(y));return u.jsx(m.Provider,{value:v,children:g})}function d(p,h){const g=(h==null?void 0:h[t][l])||a,y=f.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=r.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,op(s,...e)]}function op(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:c})=>{const p=l(o)[`__scope${c}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function ip(t){const[e,r]=f.useState(void 0);return be(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var ho="Popper",[Ja,Dn]=sp(ho),[ap,Ya]=Ja(ho),Qa=t=>{const{__scopePopper:e,children:r}=t,[n,s]=f.useState(null);return u.jsx(ap,{scope:e,anchor:n,onAnchorChange:s,children:r})};Qa.displayName=ho;var Xa="PopperAnchor",Za=f.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=Ya(Xa,r),i=f.useRef(null),a=se(e,i);return f.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:u.jsx(Q.div,{...s,ref:a})});Za.displayName=Xa;var fo="PopperContent",[lp,cp]=Ja(fo),el=f.forwardRef((t,e)=>{var M,ee,de,X,te,Z;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:y,...m}=t,v=Ya(fo,r),[w,x]=f.useState(null),b=se(e,we=>x(we)),[_,S]=f.useState(null),P=ip(_),C=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,R=n+(o!=="center"?"-"+o:""),F=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],N=I.length>0,B={padding:F,boundary:I.filter(dp),altBoundary:N},{refs:A,floatingStyles:L,placement:O,isPositioned:U,middlewareData:j}=Kf({strategy:"fixed",placement:R,whileElementsMounted:(...we)=>Ff(...we,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[Jf({mainAxis:s+T,alignmentAxis:i}),l&&Yf({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Qf():void 0,...B}),l&&Xf({...B}),Zf({...B,apply:({elements:we,rects:Te,availableWidth:at,availableHeight:Oe})=>{const{width:At,height:Xn}=Te.reference,me=we.floating.style;me.setProperty("--radix-popper-available-width",`${at}px`),me.setProperty("--radix-popper-available-height",`${Oe}px`),me.setProperty("--radix-popper-anchor-width",`${At}px`),me.setProperty("--radix-popper-anchor-height",`${Xn}px`)}}),_&&tp({element:_,padding:a}),hp({arrowWidth:C,arrowHeight:T}),h&&ep({strategy:"referenceHidden",...B})]}),[D,ce]=nl(O),$=Ne(y);be(()=>{U&&($==null||$())},[U,$]);const G=(M=j.arrow)==null?void 0:M.x,J=(ee=j.arrow)==null?void 0:ee.y,ue=((de=j.arrow)==null?void 0:de.centerOffset)!==0,[Se,ne]=f.useState();return be(()=>{w&&ne(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:U?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(X=j.transformOrigin)==null?void 0:X.x,(te=j.transformOrigin)==null?void 0:te.y].join(" "),...((Z=j.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(lp,{scope:r,placedSide:D,onArrowChange:S,arrowX:G,arrowY:J,shouldHideArrow:ue,children:u.jsx(Q.div,{"data-side":D,"data-align":ce,...m,ref:b,style:{...m.style,animation:U?void 0:"none"}})})})});el.displayName=fo;var tl="PopperArrow",up={top:"bottom",right:"left",bottom:"top",left:"right"},rl=f.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=cp(tl,n),i=up[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(np,{...s,ref:r,style:{...s.style,display:"block"}})})});rl.displayName=tl;function dp(t){return t!==null}var hp=t=>({name:"transformOrigin",options:t,fn(e){var v,w,x;const{placement:r,rects:n,middlewareData:s}=e,i=((v=s.arrow)==null?void 0:v.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[c,d]=nl(r),p={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let y="",m="";return c==="bottom"?(y=i?p:`${h}px`,m=`${-l}px`):c==="top"?(y=i?p:`${h}px`,m=`${n.floating.height+l}px`):c==="right"?(y=`${-l}px`,m=i?p:`${g}px`):c==="left"&&(y=`${n.floating.width+l}px`,m=i?p:`${g}px`),{data:{x:y,y:m}}}});function nl(t){const[e,r="center"]=t.split("-");return[e,r]}var fp=Qa,sl=Za,ol=el,il=rl,[$n,Db]=Hr("Tooltip",[Dn]),po=Dn(),al="TooltipProvider",pp=700,ci="tooltip.open",[mp,ll]=$n(al),cl=t=>{const{__scopeTooltip:e,delayDuration:r=pp,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,[i,a]=f.useState(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(mp,{scope:e,isOpenDelayed:i,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:o})};cl.displayName=al;var ul="Tooltip",[$b,Mn]=$n(ul),Ns="TooltipTrigger",gp=f.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Mn(Ns,r),o=ll(Ns,r),i=po(r),a=f.useRef(null),l=se(e,a,s.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),p=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),u.jsx(sl,{asChild:!0,...i,children:u.jsx(Q.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:H(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:H(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:H(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:H(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:H(t.onBlur,s.onClose),onClick:H(t.onClick,s.onClose)})})});gp.displayName=Ns;var vp="TooltipPortal",[Mb,yp]=$n(vp,{forceMount:void 0}),mr="TooltipContent",dl=f.forwardRef((t,e)=>{const r=yp(mr,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,i=Mn(mr,t.__scopeTooltip);return u.jsx(br,{present:n||i.open,children:i.disableHoverableContent?u.jsx(hl,{side:s,...o,ref:e}):u.jsx(bp,{side:s,...o,ref:e})})}),bp=f.forwardRef((t,e)=>{const r=Mn(mr,t.__scopeTooltip),n=ll(mr,t.__scopeTooltip),s=f.useRef(null),o=se(e,s),[i,a]=f.useState(null),{trigger:l,onClose:c}=r,d=s.current,{onPointerInTransitChange:p}=n,h=f.useCallback(()=>{a(null),p(!1)},[p]),g=f.useCallback((y,m)=>{const v=y.currentTarget,w={x:y.clientX,y:y.clientY},x=Sp(w,v.getBoundingClientRect()),b=Ep(w,x),_=Cp(m.getBoundingClientRect()),S=Pp([...b,..._]);a(S),p(!0)},[p]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&d){const y=v=>g(v,d),m=v=>g(v,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[l,d,g,h]),f.useEffect(()=>{if(i){const y=m=>{const v=m.target,w={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),b=!Tp(w,i);x?h():b&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,i,c,h]),u.jsx(hl,{...t,ref:o})}),[wp,xp]=$n(ul,{isInside:!1}),hl=f.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,l=Mn(mr,r),c=po(r),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(ci,d),()=>document.removeEventListener(ci,d)),[d]),f.useEffect(()=>{if(l.trigger){const p=h=>{const g=h.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),u.jsx(zr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:u.jsxs(ol,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Zi,{children:n}),u.jsx(wp,{scope:r,isInside:!0,children:u.jsx(md,{id:l.contentId,role:"tooltip",children:s||n})})]})})});dl.displayName=mr;var fl="TooltipArrow",_p=f.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=po(r);return xp(fl,r).isInside?null:u.jsx(il,{...s,...n,ref:e})});_p.displayName=fl;function Sp(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Ep(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Cp(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function Tp(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o].x,l=e[o].y,c=e[i].x,d=e[i].y;l>n!=d>n&&r<(c-a)*(n-l)/(d-l)+a&&(s=!s)}return s}function Pp(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),jp(e)}function jp(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var kp=cl,pl=dl;const Ap=kp,Rp=f.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(pl,{ref:n,sideOffset:e,className:Y("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Rp.displayName=pl.displayName;var Ln=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fn=typeof window>"u"||"Deno"in globalThis;function Le(){}function Np(t,e){return typeof t=="function"?t(e):t}function Op(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ip(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ui(t,e){return typeof t=="function"?t(e):t}function Dp(t,e){return typeof t=="function"?t(e):t}function di(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(n){if(e.queryHash!==mo(i,e.options))return!1}else if(!Lr(e.queryKey,i))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function hi(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Mr(e.options.mutationKey)!==Mr(o))return!1}else if(!Lr(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function mo(t,e){return((e==null?void 0:e.queryKeyHashFn)||Mr)(t)}function Mr(t){return JSON.stringify(t,(e,r)=>Os(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Lr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Lr(t[r],e[r])):!1}function ml(t,e){if(t===e)return t;const r=fi(t)&&fi(e);if(r||Os(t)&&Os(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),i=o.length,a=r?[]:{};let l=0;for(let c=0;c<i;c++){const d=r?c:o[c];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=ml(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===i&&l===s?t:a}return e}function fi(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Os(t){if(!pi(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!pi(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pi(t){return Object.prototype.toString.call(t)==="[object Object]"}function $p(t){return new Promise(e=>{setTimeout(e,t)})}function Mp(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?ml(t,e):e}function Lp(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Fp(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var go=Symbol();function gl(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===go?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var It,vt,sr,Vi,Up=(Vi=class extends Ln{constructor(){super();re(this,It);re(this,vt);re(this,sr);W(this,sr,e=>{if(!Fn&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,vt)||this.setEventListener(E(this,sr))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,vt))==null||e.call(this),W(this,vt,void 0))}setEventListener(e){var r;W(this,sr,e),(r=E(this,vt))==null||r.call(this),W(this,vt,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){E(this,It)!==e&&(W(this,It,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof E(this,It)=="boolean"?E(this,It):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},It=new WeakMap,vt=new WeakMap,sr=new WeakMap,Vi),vl=new Up,or,yt,ir,Wi,Bp=(Wi=class extends Ln{constructor(){super();re(this,or,!0);re(this,yt);re(this,ir);W(this,ir,e=>{if(!Fn&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,yt)||this.setEventListener(E(this,ir))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,yt))==null||e.call(this),W(this,yt,void 0))}setEventListener(e){var r;W(this,ir,e),(r=E(this,yt))==null||r.call(this),W(this,yt,e(this.setOnline.bind(this)))}setOnline(e){E(this,or)!==e&&(W(this,or,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return E(this,or)}},or=new WeakMap,yt=new WeakMap,ir=new WeakMap,Wi),Sn=new Bp;function Hp(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function zp(t){return Math.min(1e3*2**t,3e4)}function yl(t){return(t??"online")==="online"?Sn.isOnline():!0}var bl=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ls(t){return t instanceof bl}function wl(t){let e=!1,r=0,n=!1,s;const o=Hp(),i=m=>{var v;n||(h(new bl(m)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>vl.isFocused()&&(t.networkMode==="always"||Sn.isOnline())&&t.canRun(),d=()=>yl(t.networkMode)&&t.canRun(),p=m=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,m),s==null||s(),o.resolve(m))},h=m=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,m),s==null||s(),o.reject(m))},g=()=>new Promise(m=>{var v;s=w=>{(n||c())&&m(w)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;s=void 0,n||(m=t.onContinue)==null||m.call(t)}),y=()=>{if(n)return;let m;const v=r===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(p).catch(w=>{var P;if(n)return;const x=t.retry??(Fn?0:3),b=t.retryDelay??zp,_=typeof b=="function"?b(r,w):b,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,w);if(e||!S){h(w);return}r++,(P=t.onFail)==null||P.call(t,r,w),$p(_).then(()=>c()?void 0:g()).then(()=>{e?h(w):y()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():g().then(y),o)}}function qp(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{e?t.push(a):s(()=>{r(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var _e=qp(),Dt,Ki,xl=(Ki=class{constructor(){re(this,Dt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Op(this.gcTime)&&W(this,Dt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fn?1/0:5*60*1e3))}clearGcTimeout(){E(this,Dt)&&(clearTimeout(E(this,Dt)),W(this,Dt,void 0))}},Dt=new WeakMap,Ki),ar,lr,Ie,ve,Ur,$t,Fe,tt,Gi,Vp=(Gi=class extends xl{constructor(e){super();re(this,Fe);re(this,ar);re(this,lr);re(this,Ie);re(this,ve);re(this,Ur);re(this,$t);W(this,$t,!1),W(this,Ur,e.defaultOptions),this.setOptions(e.options),this.observers=[],W(this,Ie,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,W(this,ar,Kp(this.options)),this.state=e.state??E(this,ar),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=E(this,ve))==null?void 0:e.promise}setOptions(e){this.options={...E(this,Ur),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Ie).remove(this)}setData(e,r){const n=Mp(this.state.data,e,this.options);return ge(this,Fe,tt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ge(this,Fe,tt).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=E(this,ve))==null?void 0:n.promise;return(s=E(this,ve))==null||s.cancel(e),r?r.then(Le).catch(Le):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,ar))}isActive(){return this.observers.some(e=>Dp(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===go||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Ip(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=E(this,ve))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=E(this,ve))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),E(this,Ie).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(E(this,ve)&&(E(this,$t)?E(this,ve).cancel({revert:!0}):E(this,ve).cancelRetry()),this.scheduleGc()),E(this,Ie).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ge(this,Fe,tt).call(this,{type:"invalidate"})}fetch(e,r){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,ve))return E(this,ve).continueRetry(),E(this,ve).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(h=>h.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(W(this,$t,!0),n.signal)})},o=()=>{const p=gl(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),W(this,$t,!1),this.options.persister?this.options.persister(p,h,this):p(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(l=this.options.behavior)==null||l.onFetch(i,this),W(this,lr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&ge(this,Fe,tt).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=p=>{var h,g,y,m;ls(p)&&p.silent||ge(this,Fe,tt).call(this,{type:"error",error:p}),ls(p)||((g=(h=E(this,Ie).config).onError)==null||g.call(h,p,this),(m=(y=E(this,Ie).config).onSettled)==null||m.call(y,this.state.data,p,this)),this.scheduleGc()};return W(this,ve,wl({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var h,g,y,m;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){a(v);return}(g=(h=E(this,Ie).config).onSuccess)==null||g.call(h,p,this),(m=(y=E(this,Ie).config).onSettled)==null||m.call(y,p,this.state.error,this),this.scheduleGc()},onError:a,onFail:(p,h)=>{ge(this,Fe,tt).call(this,{type:"failed",failureCount:p,error:h})},onPause:()=>{ge(this,Fe,tt).call(this,{type:"pause"})},onContinue:()=>{ge(this,Fe,tt).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),E(this,ve).start()}},ar=new WeakMap,lr=new WeakMap,Ie=new WeakMap,ve=new WeakMap,Ur=new WeakMap,$t=new WeakMap,Fe=new WeakSet,tt=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Wp(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ls(s)&&s.revert&&E(this,lr)?{...E(this,lr),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),_e.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),E(this,Ie).notify({query:this,type:"updated",action:e})})},Gi);function Wp(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yl(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Kp(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ke,Ji,Gp=(Ji=class extends Ln{constructor(e={}){super();re(this,Ke);this.config=e,W(this,Ke,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??mo(s,r);let i=this.get(o);return i||(i=new Vp({cache:this,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){E(this,Ke).has(e.queryHash)||(E(this,Ke).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=E(this,Ke).get(e.queryHash);r&&(e.destroy(),r===e&&E(this,Ke).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_e.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,Ke).get(e)}getAll(){return[...E(this,Ke).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>di(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>di(e,n)):r}notify(e){_e.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){_e.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_e.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ke=new WeakMap,Ji),Ge,xe,Mt,Je,dt,Yi,Jp=(Yi=class extends xl{constructor(e){super();re(this,Je);re(this,Ge);re(this,xe);re(this,Mt);this.mutationId=e.mutationId,W(this,xe,e.mutationCache),W(this,Ge,[]),this.state=e.state||Yp(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,Ge).includes(e)||(E(this,Ge).push(e),this.clearGcTimeout(),E(this,xe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){W(this,Ge,E(this,Ge).filter(r=>r!==e)),this.scheduleGc(),E(this,xe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,Ge).length||(this.state.status==="pending"?this.scheduleGc():E(this,xe).remove(this))}continue(){var e;return((e=E(this,Mt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,i,a,l,c,d,p,h,g,y,m,v,w,x,b,_,S,P,C;W(this,Mt,wl({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{ge(this,Je,dt).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{ge(this,Je,dt).call(this,{type:"pause"})},onContinue:()=>{ge(this,Je,dt).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,xe).canRun(this)}));const r=this.state.status==="pending",n=!E(this,Mt).canStart();try{if(!r){ge(this,Je,dt).call(this,{type:"pending",variables:e,isPaused:n}),await((o=(s=E(this,xe).config).onMutate)==null?void 0:o.call(s,e,this));const R=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,e));R!==this.state.context&&ge(this,Je,dt).call(this,{type:"pending",context:R,variables:e,isPaused:n})}const T=await E(this,Mt).start();return await((c=(l=E(this,xe).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((p=(d=this.options).onSuccess)==null?void 0:p.call(d,T,e,this.state.context)),await((g=(h=E(this,xe).config).onSettled)==null?void 0:g.call(h,T,null,this.state.variables,this.state.context,this)),await((m=(y=this.options).onSettled)==null?void 0:m.call(y,T,null,e,this.state.context)),ge(this,Je,dt).call(this,{type:"success",data:T}),T}catch(T){try{throw await((w=(v=E(this,xe).config).onError)==null?void 0:w.call(v,T,e,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,T,e,this.state.context)),await((S=(_=E(this,xe).config).onSettled)==null?void 0:S.call(_,void 0,T,this.state.variables,this.state.context,this)),await((C=(P=this.options).onSettled)==null?void 0:C.call(P,void 0,T,e,this.state.context)),T}finally{ge(this,Je,dt).call(this,{type:"error",error:T})}}finally{E(this,xe).runNext(this)}}},Ge=new WeakMap,xe=new WeakMap,Mt=new WeakMap,Je=new WeakSet,dt=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_e.batch(()=>{E(this,Ge).forEach(n=>{n.onMutationUpdate(e)}),E(this,xe).notify({mutation:this,type:"updated",action:e})})},Yi);function Yp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var je,Br,Qi,Qp=(Qi=class extends Ln{constructor(e={}){super();re(this,je);re(this,Br);this.config=e,W(this,je,new Map),W(this,Br,Date.now())}build(e,r,n){const s=new Jp({mutationCache:this,mutationId:++Qr(this,Br)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=nn(e),n=E(this,je).get(r)??[];n.push(e),E(this,je).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=nn(e);if(E(this,je).has(r)){const s=(n=E(this,je).get(r))==null?void 0:n.filter(o=>o!==e);s&&(s.length===0?E(this,je).delete(r):E(this,je).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=E(this,je).get(nn(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=E(this,je).get(nn(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){_e.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...E(this,je).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>hi(r,n))}findAll(e={}){return this.getAll().filter(r=>hi(e,r))}notify(e){_e.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return _e.batch(()=>Promise.all(e.map(r=>r.continue().catch(Le))))}},je=new WeakMap,Br=new WeakMap,Qi);function nn(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function mi(t){return{onFetch:(e,r)=>{var d,p,h,g,y;const n=e.options,s=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,o=((g=e.state.data)==null?void 0:g.pages)||[],i=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=gl(e.options,e.fetchOptions),x=async(b,_,S)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const P={queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};v(P);const C=await w(P),{maxPages:T}=e.options,R=S?Fp:Lp;return{pages:R(b.pages,C,T),pageParams:R(b.pageParams,_,T)}};if(s&&o.length){const b=s==="backward",_=b?Xp:gi,S={pages:o,pageParams:i},P=_(n,S);a=await x(S,P,b)}else{const b=t??o.length;do{const _=l===0?i[0]??n.initialPageParam:gi(n,a);if(l>0&&_==null)break;a=await x(a,_),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function gi(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Xp(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var he,bt,wt,cr,ur,xt,dr,hr,Xi,Zp=(Xi=class{constructor(t={}){re(this,he);re(this,bt);re(this,wt);re(this,cr);re(this,ur);re(this,xt);re(this,dr);re(this,hr);W(this,he,t.queryCache||new Gp),W(this,bt,t.mutationCache||new Qp),W(this,wt,t.defaultOptions||{}),W(this,cr,new Map),W(this,ur,new Map),W(this,xt,0)}mount(){Qr(this,xt)._++,E(this,xt)===1&&(W(this,dr,vl.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,he).onFocus())})),W(this,hr,Sn.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,he).onOnline())})))}unmount(){var t,e;Qr(this,xt)._--,E(this,xt)===0&&((t=E(this,dr))==null||t.call(this),W(this,dr,void 0),(e=E(this,hr))==null||e.call(this),W(this,hr,void 0))}isFetching(t){return E(this,he).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return E(this,bt).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=E(this,he).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=E(this,he).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(ui(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return E(this,he).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=E(this,he).get(n.queryHash),o=s==null?void 0:s.state.data,i=Np(e,o);if(i!==void 0)return E(this,he).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return _e.batch(()=>E(this,he).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=E(this,he).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=E(this,he);_e.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=E(this,he),n={type:"active",...t};return _e.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=_e.batch(()=>E(this,he).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Le).catch(Le)}invalidateQueries(t={},e={}){return _e.batch(()=>{if(E(this,he).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=_e.batch(()=>E(this,he).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Le)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Le)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=E(this,he).build(this,e);return r.isStaleByTime(ui(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Le).catch(Le)}fetchInfiniteQuery(t){return t.behavior=mi(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Le).catch(Le)}ensureInfiniteQueryData(t){return t.behavior=mi(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Sn.isOnline()?E(this,bt).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,he)}getMutationCache(){return E(this,bt)}getDefaultOptions(){return E(this,wt)}setDefaultOptions(t){W(this,wt,t)}setQueryDefaults(t,e){E(this,cr).set(Mr(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...E(this,cr).values()];let r={};return e.forEach(n=>{Lr(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){E(this,ur).set(Mr(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...E(this,ur).values()];let r={};return e.forEach(n=>{Lr(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...E(this,wt).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mo(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===go&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...E(this,wt).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){E(this,he).clear(),E(this,bt).clear()}},he=new WeakMap,bt=new WeakMap,wt=new WeakMap,cr=new WeakMap,ur=new WeakMap,xt=new WeakMap,dr=new WeakMap,hr=new WeakMap,Xi),em=f.createContext(void 0),tm=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(em.Provider,{value:t,children:e}));const rm="modulepreload",nm=function(t){return"/noteshubatcolumbia/"+t},vi={},gr=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=nm(l),l in vi)return;vi[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":rm,c||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),c)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},sm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>gr(async()=>{const{default:n}=await Promise.resolve().then(()=>Sr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class vo extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class om extends vo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class im extends vo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class am extends vo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Is;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Is||(Is={}));var lm=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(p){i(p)}}function l(d){try{c(n.throw(d))}catch(p){i(p)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class cm{constructor(e,{headers:r={},customFetch:n,region:s=Is.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=sm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return lm(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new om(y)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new im(d);if(!d.ok)throw new am(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},yo={},Un={},Wr={},Bn={},Hn={},um=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vr=um();const dm=vr.fetch,_l=vr.fetch.bind(vr),Sl=vr.Headers,hm=vr.Request,fm=vr.Response,Sr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sl,Request:hm,Response:fm,default:_l,fetch:dm},Symbol.toStringTag,{value:"Module"})),pm=Uu(Sr);var zn={};Object.defineProperty(zn,"__esModule",{value:!0});let mm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};zn.default=mm;var El=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hn,"__esModule",{value:!0});const gm=El(pm),vm=El(zn);let ym=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=gm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let c=null,d=null,p=null,h=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),v=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&v&&v.length>1&&(p=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(d=[],c=null,h=200,g="OK")}catch{o.status===404&&m===""?(h=204,g="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,g="OK"),c&&this.shouldThrowOnError)throw new vm.default(c)}return{error:c,data:d,count:p,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Hn.default=ym;var bm=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bn,"__esModule",{value:!0});const wm=bm(Hn);let xm=class extends wm.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Bn.default=xm;var _m=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});const Sm=_m(Bn);let Em=class extends Sm.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Wr.default=Em;var Cm=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Un,"__esModule",{value:!0});const jr=Cm(Wr);let Tm=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new jr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new jr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new jr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new jr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new jr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Un.default=Tm;var qn={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.version=void 0;Vn.version="0.0.0-automated";Object.defineProperty(qn,"__esModule",{value:!0});qn.DEFAULT_HEADERS=void 0;const Pm=Vn;qn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Pm.version}`};var Cl=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yo,"__esModule",{value:!0});const jm=Cl(Un),km=Cl(Wr),Am=qn;let Rm=class Tl{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Am.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new jm.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Tl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${e}`);let l;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{a.searchParams.append(d,p)})):(i="POST",l=r);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new km.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};yo.default=Rm;var Er=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const Pl=Er(yo);Ce.PostgrestClient=Pl.default;const jl=Er(Un);Ce.PostgrestQueryBuilder=jl.default;const kl=Er(Wr);Ce.PostgrestFilterBuilder=kl.default;const Al=Er(Bn);Ce.PostgrestTransformBuilder=Al.default;const Rl=Er(Hn);Ce.PostgrestBuilder=Rl.default;const Nl=Er(zn);Ce.PostgrestError=Nl.default;var Nm=Ce.default={PostgrestClient:Pl.default,PostgrestQueryBuilder:jl.default,PostgrestFilterBuilder:kl.default,PostgrestTransformBuilder:Al.default,PostgrestBuilder:Rl.default,PostgrestError:Nl.default};const{PostgrestClient:Om,PostgrestQueryBuilder:zb,PostgrestFilterBuilder:qb,PostgrestTransformBuilder:Vb,PostgrestBuilder:Wb,PostgrestError:Kb}=Nm,Im="2.11.2",Dm={"X-Client-Info":`realtime-js/${Im}`},$m="1.0.0",Ol=1e4,Mm=1e3;var tr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(tr||(tr={}));var Pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pe||(Pe={}));var Ue;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ue||(Ue={}));var Ds;(function(t){t.websocket="websocket"})(Ds||(Ds={}));var Ot;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ot||(Ot={}));class Lm{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+s));i=i+s;const l=n.decode(e.slice(i,i+o));i=i+o;const c=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Il{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ie||(ie={}));const yi=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=Fm(i,t,e,s),o),{})},Fm=(t,e,r,n)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?Dl(o,i):$s(i)},Dl=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return zm(e,r)}switch(t){case ie.bool:return Um(e);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Bm(e);case ie.json:case ie.jsonb:return Hm(e);case ie.timestamp:return qm(e);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return $s(e);default:return $s(e)}},$s=t=>t,Um=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Bm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Hm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zm=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Dl(e,a))}return t},qm=t=>typeof t=="string"?t.replace(" ","T"):t,$l=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class cs{constructor(e,r,n={},s=Ol){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bi||(bi={}));class Nr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nr.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Nr.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Nr.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),a={},l={};return this.map(o,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const p=o[c];if(p){const h=d.map(v=>v.presence_ref),g=p.map(v=>v.presence_ref),y=d.filter(v=>g.indexOf(v.presence_ref)<0),m=p.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(a[c]=y),m.length>0&&(l[c]=m)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const p=e[a].map(g=>g.presence_ref),h=d.filter(g=>p.indexOf(g.presence_ref)<0);e[a].unshift(...h)}n(a,d,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(p=>p.presence_ref);c=c.filter(p=>d.indexOf(p.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wi||(wi={}));var xi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xi||(xi={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class bo{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cs(this,Ue.join,this.params,this.timeout),this.rejoinTimer=new Il(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ue.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Nr(this),this.broadcastEndpointURL=$l(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>e==null?void 0:e(rt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(rt.CLOSED));const l={},c={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){e==null||e(rt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(p=h==null?void 0:h.length)!==null&&p!==void 0?p:0,y=[];for(let m=0;m<g;m++){const v=h[m],{filter:{event:w,schema:x,table:b,filter:_}}=v,S=d&&d[m];if(S&&S.event===w&&S.schema===x&&S.table===b&&S.filter===_)y.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(rt.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ue.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new cs(this,Ue.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cs(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ue;if(n&&[a,l,c,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,m,v;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(m=g.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(g=>g.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var y,m,v,w,x,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const _=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(x=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:v,commit_timestamp:w,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:w,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}g.callback(h,n)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&bo.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ue.close,{},e)}_onError(e){this._on(Ue.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=yi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=yi(e.columns,e.old_record)),r}}const Vm=()=>{},Wm=typeof WebSocket<"u",Km=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gm{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Dm,this.params={},this.timeout=Ol,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Vm,this.conn=null,this.sendBuffer=[],this.serializer=new Lm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>gr(async()=>{const{default:l}=await Promise.resolve().then(()=>Sr);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${e}/${Ds.websocket}`,this.httpEndpoint=$l(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Il(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Wm){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Jm(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gr(async()=>{const{default:e}=await import("./browser-NFFBV8P7.js").then(r=>r.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$m}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tr.connecting:return Ot.Connecting;case tr.open:return Ot.Open;case tr.closing:return Ot.Closing;default:return Ot.Closed}}isConnected(){return this.connectionState()===Ot.Open}channel(e,r={config:{}}){const n=new bo(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Ue.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Mm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ue.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Km],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Jm{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=tr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class wo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ym extends wo{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ms extends wo{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Qm=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(p){i(p)}}function l(d){try{c(n.throw(d))}catch(p){i(p)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ml=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>gr(async()=>{const{default:n}=await Promise.resolve().then(()=>Sr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Xm=()=>Qm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gr(()=>Promise.resolve().then(()=>Sr),void 0)).Response:Response}),Ls=t=>{if(Array.isArray(t))return t.map(r=>Ls(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Ls(n)}),e};var Bt=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(p){i(p)}}function l(d){try{c(n.throw(d))}catch(p){i(p)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const us=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zm=(t,e,r)=>Bt(void 0,void 0,void 0,function*(){const n=yield Xm();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new Ym(us(s),t.status||500))}).catch(s=>{e(new Ms(us(s),s))}):e(new Ms(us(t),t))}),eg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Kr(t,e,r,n,s,o){return Bt(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,eg(e,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Zm(l,a,n))})})}function En(t,e,r,n){return Bt(this,void 0,void 0,function*(){return Kr(t,"GET",e,r,n)})}function mt(t,e,r,n,s){return Bt(this,void 0,void 0,function*(){return Kr(t,"POST",e,n,s,r)})}function tg(t,e,r,n,s){return Bt(this,void 0,void 0,function*(){return Kr(t,"PUT",e,n,s,r)})}function rg(t,e,r,n){return Bt(this,void 0,void 0,function*(){return Kr(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ll(t,e,r,n,s){return Bt(this,void 0,void 0,function*(){return Kr(t,"DELETE",e,n,s,r)})}var Ee=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(p){i(p)}}function l(d){try{c(n.throw(d))}catch(p){i(p)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const ng={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_i={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sg{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Ml(s)}uploadOrUpdate(e,r,n,s){return Ee(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},_i),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield p.json();return p.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(pe(o))return{data:null,error:o};throw o}})}upload(e,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ee(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:_i.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const p=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield p.json();return p.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield mt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new wo("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield mt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ee(this,void 0,void 0,function*(){try{const s=yield mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}download(e,r){return Ee(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield En(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}info(e){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield En(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ls(n),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}exists(e){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield rg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(pe(n)&&n instanceof Ms){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ng),r),{prefix:e||""});return{data:yield mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const og="2.7.1",ig={"X-Client-Info":`storage-js/${og}`};var Vt=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(p){i(p)}}function l(d){try{c(n.throw(d))}catch(p){i(p)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class ag{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},ig),r),this.fetch=Ml(n)}listBuckets(){return Vt(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pe(e))return{data:null,error:e};throw e}})}getBucket(e){return Vt(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Vt(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Vt(this,void 0,void 0,function*(){try{return{data:yield tg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Vt(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Vt(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}}class lg extends ag{constructor(e,r={},n){super(e,r,n)}from(e){return new sg(this.url,this.headers,e,this.fetch)}}const cg="2.49.8";let kr="";typeof Deno<"u"?kr="deno":typeof document<"u"?kr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kr="react-native":kr="node";const ug={"X-Client-Info":`supabase-js-${kr}/${cg}`},dg={headers:ug},hg={schema:"public"},fg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pg={};var mg=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(p){i(p)}}function l(d){try{c(n.throw(d))}catch(p){i(p)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const gg=t=>{let e;return t?e=t:typeof fetch>"u"?e=_l:e=fetch,(...r)=>e(...r)},vg=()=>typeof Headers>"u"?Sl:Headers,yg=(t,e,r)=>{const n=gg(r),s=vg();return(o,i)=>mg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:c}))})};var bg=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(p){i(p)}}function l(d){try{c(n.throw(d))}catch(p){i(p)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function wg(t){return t.endsWith("/")?t:t+"/"}function xg(t,e){var r,n;const{db:s,auth:o,realtime:i,global:a}=t,{db:l,auth:c,realtime:d,global:p}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>bg(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Fl="2.69.1",Qt=30*1e3,Fs=3,ds=Fs*Qt,_g="http://localhost:9999",Sg="supabase.auth.token",Eg={"X-Client-Info":`gotrue-js/${Fl}`},Us="X-Supabase-Api-Version",Ul={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tg=6e5;class xo extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Pg extends xo{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jg(t){return V(t)&&t.name==="AuthApiError"}class Bl extends xo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Pt extends xo{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ht extends Pt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kg(t){return V(t)&&t.name==="AuthSessionMissingError"}class hs extends Pt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sn extends Pt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class on extends Pt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ag(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class Si extends Pt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bs extends Pt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function fs(t){return V(t)&&t.name==="AuthRetryableFetchError"}class Ei extends Pt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Or extends Pt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ti=` 	
\r=`.split(""),Rg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ti.length;e+=1)t[Ti[e].charCodeAt(0)]=-2;for(let e=0;e<Ci.length;e+=1)t[Ci[e].charCodeAt(0)]=e;return t})();function Hl(t,e,r){const n=Rg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Pi(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{Ig(i,n,r)};for(let i=0;i<t.length;i+=1)Hl(t.charCodeAt(i),s,o);return e.join("")}function Ng(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Og(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ng(n,e)}}function Ig(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Dg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Hl(t.charCodeAt(s),r,n);return new Uint8Array(e)}function $g(t){const e=[];return Og(t,r=>e.push(r)),new Uint8Array(e)}function Mg(t){return Math.round(Date.now()/1e3)+t}function Lg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const We=()=>typeof window<"u"&&typeof document<"u",Rt={tested:!1,writable:!1},Ir=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rt.tested)return Rt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Rt.tested=!0,Rt.writable=!0}catch{Rt.tested=!0,Rt.writable=!1}return Rt.writable};function Fg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const zl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>gr(async()=>{const{default:n}=await Promise.resolve().then(()=>Sr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Ug=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ql=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},an=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ln=async(t,e)=>{await t.removeItem(e)};class Wn{constructor(){this.promise=new Wn.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Wn.promiseConstructor=Promise;function ps(t){const e=t.split(".");if(e.length!==3)throw new Or("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Cg.test(e[n]))throw new Or("JWT not in base64url format");return{header:JSON.parse(Pi(e[0])),payload:JSON.parse(Pi(e[1])),signature:Dg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Bg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hg(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function zg(t){return("0"+t.toString(16)).substr(-2)}function qg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,zg).join("")}async function Vg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Wg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Vg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wt(t,e,r=!1){const n=qg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ql(t,`${e}-code-verifier`,s);const o=await Wg(n);return[o,n===o?"plain":"s256"]}const Kg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gg(t){const e=t.headers.get(Us);if(!e||!e.match(Kg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Jg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Yg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Qg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Nt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Xg=[502,503,504];async function ji(t){var e;if(!Ug(t))throw new Bs(Nt(t),0);if(Xg.includes(t.status))throw new Bs(Nt(t),t.status);let r;try{r=await t.json()}catch(o){throw new Bl(Nt(o),o)}let n;const s=Gg(t);if(s&&s.getTime()>=Ul["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ei(Nt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Ei(Nt(r),t.status,r.weak_password.reasons);throw new Pg(Nt(r),t.status||500,n)}const Zg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function K(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Us]||(o[Us]=Ul["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await ev(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function ev(t,e,r,n,s,o){const i=Zg(e,n,s,o);let a;try{a=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new Bs(Nt(l),0)}if(a.ok||await ji(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ji(l)}}function ft(t){var e;let r=null;sv(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Mg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ki(t){const e=ft(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tv(t){return{data:t,error:null}}function rv(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=Qg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function nv(t){return t}function sv(t){return t.access_token&&t.refresh_token&&t.expires_in}var ov=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class iv{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=zl(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ov(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(V(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:nv});if(d.error)throw d.error;const p=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:gt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:gt})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await K(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}}const av={getItem:t=>Ir()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ir()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ir()&&globalThis.localStorage.removeItem(t)}};function Ai(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function lv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kt={debug:!!(globalThis&&Ir()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cv extends Vl{}async function uv(t,e,r){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kt.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}lv();const dv={url:_g,storageKey:Sg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Eg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ri(t,e,r){return await r()}class Fr{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fr.nextInstanceID,Fr.nextInstanceID+=1,this.instanceID>0&&We()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zl(s.fetch),this.lock=s.lock||Ri,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:We()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uv:this.lock=Ri,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ir()?this.storage=av:(this.memoryStorage={},this.storage=Ai(this.memoryStorage)):(this.memoryStorage={},this.storage=Ai(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Fl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Fg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),We()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Ag(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return V(r)?{error:r}:{error:new Bl("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ft}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(V(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:d,password:p,options:h}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Wt(this.storage,this.storageKey)),o=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:p,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:ft})}else if("phone"in e){const{phone:d,password:p,options:h}=e;o=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ft})}else throw new sn("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(V(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ki})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ki})}else throw new sn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new hs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await an(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ft});if(await ln(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new hs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(V(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ft}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new hs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Wt(this.storage,this.storageKey));const{error:p}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new sn("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ft});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Wt(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:tv})}catch(o){if(V(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ht;const{error:s}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await K(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:a}=await K(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new sn("You must provide either an email or phone number and a type")}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await an(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ds:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gt}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:gt})})}catch(r){if(V(r))return kg(r)&&(await this._removeSession(),await ln(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new ht;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Wt(this.storage,this.storageKey));const{data:c,error:d}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:gt});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ht;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=ps(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(V(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ht;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!We())throw new on("No browser detected.");if(e.error||e.error_description||e.error_code)throw new on(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Si("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new on("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Si("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!i||!c)throw new on("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(a);let h=d+p;l&&(h=parseInt(l));const g=h-d;g*1e3<=Qt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const y=h-p;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:v}=await this._getUser(o);if(v)throw v;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:p,expires_at:h,refresh_token:i,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(V(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await an(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(jg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ln(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Lg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Wt(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(V(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,c,d;const{data:p,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return We()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(V(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Hg(async s=>(s>0&&await Bg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ft})),(s,o)=>{const i=200*Math.pow(2,s);return o&&fs(o)&&Date.now()+i-n<Qt})}catch(n){if(this._debug(r,"error",n),V(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),We()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await an(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ds;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ds}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),fs(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Wn;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new ht;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),V(o)){const i={session:null,error:o};return fs(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ql(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ln(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&We()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Qt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qt}ms, refresh threshold is ${Fs} ticks`),s<=Fs&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Wt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await K(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(r){if(V(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(V(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ps(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(i=>i.kid===e);if(n||(n=this.jwks.keys.find(i=>i.kid===e),n&&this.jwks_cached_at+Tg>Date.now()))return n;const{data:s,error:o}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Or("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===e),!n)throw new Or("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=ps(n);if(Jg(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const c=Yg(s.alg),d=await this.fetchJwk(s.kid,r),p=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,p,i,$g(`${a}.${l}`)))throw new Or("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}Fr.nextInstanceID=0;const hv=Fr;class fv extends hv{constructor(e){super(e)}}var pv=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(p){i(p)}}function l(d){try{c(n.throw(d))}catch(p){i(p)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class mv{constructor(e,r,n){var s,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=wg(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:hg,realtime:pg,auth:Object.assign(Object.assign({},fg),{storageKey:c}),global:dg},p=xg(n??{},d);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=p.auth)!==null&&i!==void 0?i:{},this.headers,p.global.fetch),this.fetch=yg(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Om(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new cm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lg(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return pv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:a,debug:l},c,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fv({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Gm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gv=(t,e,r)=>new mv(t,e,r),vv="https://meonsexfvlvqhsxotnbw.supabase.co",yv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1lb25zZXhmdmx2cWhzeG90bmJ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzMTE5NDIsImV4cCI6MjA2Mzg4Nzk0Mn0.epLVh8x3GUrnI2cEc1HEsaFNnFcpYmlUsLIMJLqVllw",fe=gv(vv,yv),Wl=f.createContext(void 0),Kl=()=>{const t=f.useContext(Wl);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},bv=({children:t})=>{const e={id:"default-user",email:"user@columbia.edu",username:"Columbia Student",hasUploaded:!0},[r]=f.useState(e),[n]=f.useState(!0),i={user:r,isAuthenticated:n,updateUserUploadStatus:async()=>{try{await fe.rpc("increment_upload_count")}catch(a){console.error("Error updating upload count:",a)}},getUploadCount:async()=>{try{const{data:a,error:l}=await fe.from("uploads").select("id",{count:"exact"});if(l)throw l;return(a==null?void 0:a.length)||0}catch(a){return console.error("Error getting upload count:",a),0}}};return u.jsx(Wl.Provider,{value:i,children:t})},_o=Rn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ye=f.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const i=n?fr:"button";return u.jsx(i,{className:Y(_o({variant:e,size:r,className:t})),ref:o,...s})});ye.displayName="Button";const Kn=f.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Y("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Kn.displayName="Card";const So=f.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Y("flex flex-col space-y-1.5 p-6",t),...e}));So.displayName="CardHeader";const Eo=f.forwardRef(({className:t,...e},r)=>u.jsx("h3",{ref:r,className:Y("text-2xl font-semibold leading-none tracking-tight",t),...e}));Eo.displayName="CardTitle";const wv=f.forwardRef(({className:t,...e},r)=>u.jsx("p",{ref:r,className:Y("text-sm text-muted-foreground",t),...e}));wv.displayName="CardDescription";const Co=f.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Y("p-6 pt-0",t),...e}));Co.displayName="CardContent";const xv=f.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Y("flex items-center p-6 pt-0",t),...e}));xv.displayName="CardFooter";const To=()=>u.jsx("footer",{className:"mt-auto border-t border-gray-200 bg-white",children:u.jsxs("div",{className:"flex flex-col items-center space-y-2 py-8 text-center text-gray-600 text-sm",children:[u.jsx("p",{children:"By Columbia students, for Columbia students"}),u.jsx("p",{className:"ml-4",children:"© 2025"}),u.jsx("p",{className:"ml-8",children:"Contact us: NotesHubAtColumbia@gmail.com"})]})}),_v=()=>{const t=Pn(),{getUploadCount:e}=Kl(),[r,n]=f.useState(0);return f.useEffect(()=>{(async()=>{const o=await e();n(o)})()},[e]),u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("header",{className:"border-b border-gray-200 bg-white",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"flex justify-between items-center h-16",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-columbia-blue rounded-lg flex items-center justify-center text-xl text-white",children:"✏️"}),u.jsx("h1",{className:"ml-3 text-xl font-bold text-gray-900",children:"NotesHub @Columbia"})]})})})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[u.jsx("span",{className:"block",children:"Join the Community"}),u.jsx("span",{className:"block text-columbia-blue",children:"Share & Access Study Materials"})]}),u.jsx("p",{className:"mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:"Columbia's 1st anonymous note-sharing platform. Share and discover academic materials anonymously."})]}),u.jsx("div",{className:"mt-10",children:u.jsx(Kn,{className:"max-w-md mx-auto p-8 bg-white shadow-lg rounded-lg border border-gray-200",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-columbia-blue bg-opacity-10 mb-4",children:u.jsx("span",{className:"text-2xl",children:"📚"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ready to explore?"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:[r," study materials shared so far"]}),u.jsx(ye,{onClick:()=>t("/browse"),className:"w-full bg-columbia-blue hover:bg-columbia-blue-dark",children:"Let's check it out!"})]})})}),u.jsxs("div",{className:"mt-12",children:[u.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Why use NotesHub?"}),u.jsxs("div",{className:"mt-10 max-w-lg mx-auto grid gap-5 lg:grid-cols-3 lg:max-w-none",children:[u.jsx("div",{className:"flex flex-col rounded-lg shadow-lg overflow-hidden",children:u.jsx("div",{className:"flex-1 bg-white p-6 flex flex-col justify-between",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"Easy Sharing"}),u.jsx("p",{className:"mt-3 text-base text-gray-500",children:"Upload and share your study materials with fellow students in just a few clicks."})]})})}),u.jsx("div",{className:"flex flex-col rounded-lg shadow-lg overflow-hidden",children:u.jsx("div",{className:"flex-1 bg-white p-6 flex flex-col justify-between",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"Quick Access"}),u.jsx("p",{className:"mt-3 text-base text-gray-500",children:"Find the materials you need instantly with our organized system."})]})})}),u.jsx("div",{className:"flex flex-col rounded-lg shadow-lg overflow-hidden",children:u.jsx("div",{className:"flex-1 bg-white p-6 flex flex-col justify-between",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"Community Driven"}),u.jsx("p",{className:"mt-3 text-base text-gray-500",children:"Join a community of students helping each other succeed."})]})})})]})]})]}),u.jsx(To,{})]})},_t=f.forwardRef(({className:t,type:e,...r},n)=>u.jsx("input",{type:e,className:Y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));_t.displayName="Input";var Sv="Label",Gl=f.forwardRef((t,e)=>u.jsx(Q.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Gl.displayName=Sv;var Jl=Gl;const Ev=Rn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=f.forwardRef(({className:t,...e},r)=>u.jsx(Jl,{ref:r,className:Y(Ev(),t),...e}));Ye.displayName=Jl.displayName;function Ni(t,[e,r]){return Math.min(r,Math.max(e,t))}var Cv=f.createContext(void 0);function Tv(t){const e=f.useContext(Cv);return t||e||"ltr"}var ms=0;function Yl(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Oi()),document.body.insertAdjacentElement("beforeend",t[1]??Oi()),ms++,()=>{ms===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ms--}},[])}function Oi(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gs="focusScope.autoFocusOnMount",vs="focusScope.autoFocusOnUnmount",Ii={bubbles:!1,cancelable:!0},Pv="FocusScope",Po=f.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,l]=f.useState(null),c=Ne(s),d=Ne(o),p=f.useRef(null),h=se(e,m=>l(m)),g=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let m=function(b){if(g.paused||!a)return;const _=b.target;a.contains(_)?p.current=_:pt(p.current,{select:!0})},v=function(b){if(g.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||pt(p.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&pt(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),x.disconnect()}}},[n,a,g.paused]),f.useEffect(()=>{if(a){$i.add(g);const m=document.activeElement;if(!a.contains(m)){const w=new CustomEvent(gs,Ii);a.addEventListener(gs,c),a.dispatchEvent(w),w.defaultPrevented||(jv(Ov(Ql(a)),{select:!0}),document.activeElement===m&&pt(a))}return()=>{a.removeEventListener(gs,c),setTimeout(()=>{const w=new CustomEvent(vs,Ii);a.addEventListener(vs,d),a.dispatchEvent(w),w.defaultPrevented||pt(m??document.body,{select:!0}),a.removeEventListener(vs,d),$i.remove(g)},0)}}},[a,c,d,g]);const y=f.useCallback(m=>{if(!r&&!n||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(v&&w){const x=m.currentTarget,[b,_]=kv(x);b&&_?!m.shiftKey&&w===_?(m.preventDefault(),r&&pt(b,{select:!0})):m.shiftKey&&w===b&&(m.preventDefault(),r&&pt(_,{select:!0})):w===x&&m.preventDefault()}},[r,n,g.paused]);return u.jsx(Q.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});Po.displayName=Pv;function jv(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(pt(n,{select:e}),document.activeElement!==r)return}function kv(t){const e=Ql(t),r=Di(e,t),n=Di(e.reverse(),t);return[r,n]}function Ql(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Di(t,e){for(const r of t)if(!Av(r,{upTo:e}))return r}function Av(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rv(t){return t instanceof HTMLInputElement&&"select"in t}function pt(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Rv(t)&&e&&t.select()}}var $i=Nv();function Nv(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Mi(t,e),t.unshift(e)},remove(e){var r;t=Mi(t,e),(r=t[0])==null||r.resume()}}}function Mi(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Ov(t){return t.filter(e=>e.tagName!=="A")}function Iv(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Dv=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Gt=new WeakMap,cn=new WeakMap,un={},ys=0,Xl=function(t){return t&&(t.host||Xl(t.parentNode))},$v=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Xl(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Mv=function(t,e,r,n){var s=$v(e,Array.isArray(t)?t:[t]);un[r]||(un[r]=new WeakMap);var o=un[r],i=[],a=new Set,l=new Set(s),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};s.forEach(c);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(h){if(a.has(h))d(h);else try{var g=h.getAttribute(n),y=g!==null&&g!=="false",m=(Gt.get(h)||0)+1,v=(o.get(h)||0)+1;Gt.set(h,m),o.set(h,v),i.push(h),m===1&&y&&cn.set(h,!0),v===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),a.clear(),ys++,function(){i.forEach(function(p){var h=Gt.get(p)-1,g=o.get(p)-1;Gt.set(p,h),o.set(p,g),h||(cn.has(p)||p.removeAttribute(n),cn.delete(p)),g||p.removeAttribute(r)}),ys--,ys||(Gt=new WeakMap,Gt=new WeakMap,cn=new WeakMap,un={})}},Zl=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Dv(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Mv(n,s,r,"aria-hidden")):function(){return null}},Qe=function(){return Qe=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Qe.apply(this,arguments)};function ec(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Lv(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var gn="right-scroll-bar-position",vn="width-before-scroll-bar",Fv="with-scroll-bars-hidden",Uv="--removed-body-scroll-bar-size";function bs(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Bv(t,e){var r=f.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var Hv=typeof window<"u"?f.useLayoutEffect:f.useEffect,Li=new WeakMap;function zv(t,e){var r=Bv(null,function(n){return t.forEach(function(s){return bs(s,n)})});return Hv(function(){var n=Li.get(r);if(n){var s=new Set(n),o=new Set(t),i=r.current;s.forEach(function(a){o.has(a)||bs(a,null)}),o.forEach(function(a){s.has(a)||bs(a,i)})}Li.set(r,t)},[t]),r}function qv(t){return t}function Vv(t,e){e===void 0&&(e=qv);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=e(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var l=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),r}}}};return s}function Wv(t){t===void 0&&(t={});var e=Vv(null);return e.options=Qe({async:!0,ssr:!1},t),e}var tc=function(t){var e=t.sideCar,r=ec(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,Qe({},r))};tc.isSideCarExport=!0;function Kv(t,e){return t.useMedium(e),tc}var rc=Wv(),ws=function(){},Gn=f.forwardRef(function(t,e){var r=f.useRef(null),n=f.useState({onScrollCapture:ws,onWheelCapture:ws,onTouchMoveCapture:ws}),s=n[0],o=n[1],i=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,p=t.shards,h=t.sideCar,g=t.noIsolation,y=t.inert,m=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,x=t.gapMode,b=ec(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=zv([r,e]),P=Qe(Qe({},b),s);return f.createElement(f.Fragment,null,d&&f.createElement(_,{sideCar:rc,removeScrollBar:c,shards:p,noIsolation:g,inert:y,setCallbacks:o,allowPinchZoom:!!m,lockRef:r,gapMode:x}),i?f.cloneElement(f.Children.only(a),Qe(Qe({},P),{ref:S})):f.createElement(w,Qe({},P,{className:l,ref:S}),a))});Gn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gn.classNames={fullWidth:vn,zeroRight:gn};var Gv=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jv(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Gv();return e&&t.setAttribute("nonce",e),t}function Yv(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Qv(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Xv=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Jv())&&(Yv(e,r),Qv(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Zv=function(){var t=Xv();return function(e,r){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},nc=function(){var t=Zv(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},ey={left:0,top:0,right:0,gap:0},xs=function(t){return parseInt(t||"",10)||0},ty=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[xs(r),xs(n),xs(s)]},ry=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ey;var e=ty(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},ny=nc(),rr="data-scroll-locked",sy=function(t,e,r,n){var s=t.left,o=t.top,i=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Fv,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(rr,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gn,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(vn,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(gn," .").concat(gn,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vn," .").concat(vn,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(rr,`] {
    `).concat(Uv,": ").concat(a,`px;
  }
`)},Fi=function(){var t=parseInt(document.body.getAttribute(rr)||"0",10);return isFinite(t)?t:0},oy=function(){f.useEffect(function(){return document.body.setAttribute(rr,(Fi()+1).toString()),function(){var t=Fi()-1;t<=0?document.body.removeAttribute(rr):document.body.setAttribute(rr,t.toString())}},[])},iy=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;oy();var o=f.useMemo(function(){return ry(s)},[s]);return f.createElement(ny,{styles:sy(o,!e,s,r?"":"!important")})},Hs=!1;if(typeof window<"u")try{var dn=Object.defineProperty({},"passive",{get:function(){return Hs=!0,!0}});window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Hs=!1}var Jt=Hs?{passive:!1}:!1,ay=function(t){return t.tagName==="TEXTAREA"},sc=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!ay(t)&&r[e]==="visible")},ly=function(t){return sc(t,"overflowY")},cy=function(t){return sc(t,"overflowX")},Ui=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=oc(t,n);if(s){var o=ic(t,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},uy=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},dy=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},oc=function(t,e){return t==="v"?ly(e):cy(e)},ic=function(t,e){return t==="v"?uy(e):dy(e)},hy=function(t,e){return t==="h"&&e==="rtl"?-1:1},fy=function(t,e,r,n,s){var o=hy(t,window.getComputedStyle(e).direction),i=o*n,a=r.target,l=e.contains(a),c=!1,d=i>0,p=0,h=0;do{var g=ic(t,a),y=g[0],m=g[1],v=g[2],w=m-v-o*y;(y||w)&&oc(t,a)&&(p+=w,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},hn=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Bi=function(t){return[t.deltaX,t.deltaY]},Hi=function(t){return t&&"current"in t?t.current:t},py=function(t,e){return t[0]===e[0]&&t[1]===e[1]},my=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gy=0,Yt=[];function vy(t){var e=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),s=f.useState(gy++)[0],o=f.useState(nc)[0],i=f.useRef(t);f.useEffect(function(){i.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Lv([t.lockRef.current],(t.shards||[]).map(Hi),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=f.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var w=hn(m),x=r.current,b="deltaX"in m?m.deltaX:x[0]-w[0],_="deltaY"in m?m.deltaY:x[1]-w[1],S,P=m.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&P.type==="range")return!1;var T=Ui(C,P);if(!T)return!0;if(T?S=C:(S=C==="v"?"h":"v",T=Ui(C,P)),!T)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var R=n.current||S;return fy(R,v,m,R==="h"?b:_,!0)},[]),l=f.useCallback(function(m){var v=m;if(!(!Yt.length||Yt[Yt.length-1]!==o)){var w="deltaY"in v?Bi(v):hn(v),x=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&py(S.delta,w)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(i.current.shards||[]).map(Hi).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?a(v,b[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),c=f.useCallback(function(m,v,w,x){var b={name:m,delta:v,target:w,should:x,shadowParent:yy(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(_){return _!==b})},1)},[]),d=f.useCallback(function(m){r.current=hn(m),n.current=void 0},[]),p=f.useCallback(function(m){c(m.type,Bi(m),m.target,a(m,t.lockRef.current))},[]),h=f.useCallback(function(m){c(m.type,hn(m),m.target,a(m,t.lockRef.current))},[]);f.useEffect(function(){return Yt.push(o),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Jt),document.addEventListener("touchmove",l,Jt),document.addEventListener("touchstart",d,Jt),function(){Yt=Yt.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Jt),document.removeEventListener("touchmove",l,Jt),document.removeEventListener("touchstart",d,Jt)}},[]);var g=t.removeScrollBar,y=t.inert;return f.createElement(f.Fragment,null,y?f.createElement(o,{styles:my(s)}):null,g?f.createElement(iy,{gapMode:t.gapMode}):null)}function yy(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const by=Kv(rc,vy);var jo=f.forwardRef(function(t,e){return f.createElement(Gn,Qe({},t,{ref:e,sideCar:by}))});jo.classNames=Gn.classNames;var wy=[" ","Enter","ArrowUp","ArrowDown"],xy=[" ","Enter"],Gr="Select",[Jn,Yn,_y]=ra(Gr),[Cr,Gb]=Hr(Gr,[_y,Dn]),Qn=Dn(),[Sy,jt]=Cr(Gr),[Ey,Cy]=Cr(Gr),ac=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:p,disabled:h,required:g,form:y}=t,m=Qn(e),[v,w]=f.useState(null),[x,b]=f.useState(null),[_,S]=f.useState(!1),P=Tv(c),[C=!1,T]=yn({prop:n,defaultProp:s,onChange:o}),[R,F]=yn({prop:i,defaultProp:a,onChange:l}),I=f.useRef(null),N=v?y||!!v.closest("form"):!0,[B,A]=f.useState(new Set),L=Array.from(B).map(O=>O.props.value).join(";");return u.jsx(fp,{...m,children:u.jsxs(Sy,{required:g,scope:e,trigger:v,onTriggerChange:w,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Zt(),value:R,onValueChange:F,open:C,onOpenChange:T,dir:P,triggerPointerDownPosRef:I,disabled:h,children:[u.jsx(Jn.Provider,{scope:e,children:u.jsx(Ey,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(O=>{A(U=>new Set(U).add(O))},[]),onNativeOptionRemove:f.useCallback(O=>{A(U=>{const j=new Set(U);return j.delete(O),j})},[]),children:r})}),N?u.jsxs(Nc,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:p,value:R,onChange:O=>F(O.target.value),disabled:h,form:y,children:[R===void 0?u.jsx("option",{value:""}):null,Array.from(B)]},L):null]})})};ac.displayName=Gr;var lc="SelectTrigger",cc=f.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=Qn(r),i=jt(lc,r),a=i.disabled||n,l=se(e,i.onTriggerChange),c=Yn(r),d=f.useRef("touch"),[p,h,g]=Oc(m=>{const v=c().filter(b=>!b.disabled),w=v.find(b=>b.value===i.value),x=Ic(v,m,w);x!==void 0&&i.onValueChange(x.value)}),y=m=>{a||(i.onOpenChange(!0),g()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(sl,{asChild:!0,...o,children:u.jsx(Q.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Rc(i.value)?"":void 0,...s,ref:l,onClick:H(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:H(s.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:H(s.onKeyDown,m=>{const v=p.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&wy.includes(m.key)&&(y(),m.preventDefault())})})})});cc.displayName=lc;var uc="SelectValue",dc=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=t,l=jt(uc,r),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,p=se(e,l.onValueNodeChange);return be(()=>{c(d)},[c,d]),u.jsx(Q.span,{...a,ref:p,style:{pointerEvents:"none"},children:Rc(l.value)?u.jsx(u.Fragment,{children:i}):o})});dc.displayName=uc;var Ty="SelectIcon",hc=f.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return u.jsx(Q.span,{"aria-hidden":!0,...s,ref:e,children:n||"▼"})});hc.displayName=Ty;var Py="SelectPortal",fc=t=>u.jsx(jn,{asChild:!0,...t});fc.displayName=Py;var Ft="SelectContent",pc=f.forwardRef((t,e)=>{const r=jt(Ft,t.__scopeSelect),[n,s]=f.useState();if(be(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?yr.createPortal(u.jsx(mc,{scope:t.__scopeSelect,children:u.jsx(Jn.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(gc,{...t,ref:e})});pc.displayName=Ft;var Me=10,[mc,kt]=Cr(Ft),jy="SelectContentImpl",gc=f.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:g,sticky:y,hideWhenDetached:m,avoidCollisions:v,...w}=t,x=jt(Ft,r),[b,_]=f.useState(null),[S,P]=f.useState(null),C=se(e,M=>_(M)),[T,R]=f.useState(null),[F,I]=f.useState(null),N=Yn(r),[B,A]=f.useState(!1),L=f.useRef(!1);f.useEffect(()=>{if(b)return Zl(b)},[b]),Yl();const O=f.useCallback(M=>{const[ee,...de]=N().map(Z=>Z.ref.current),[X]=de.slice(-1),te=document.activeElement;for(const Z of M)if(Z===te||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===ee&&S&&(S.scrollTop=0),Z===X&&S&&(S.scrollTop=S.scrollHeight),Z==null||Z.focus(),document.activeElement!==te))return},[N,S]),U=f.useCallback(()=>O([T,b]),[O,T,b]);f.useEffect(()=>{B&&U()},[B,U]);const{onOpenChange:j,triggerPointerDownPosRef:D}=x;f.useEffect(()=>{if(b){let M={x:0,y:0};const ee=X=>{var te,Z;M={x:Math.abs(Math.round(X.pageX)-(((te=D.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(X.pageY)-(((Z=D.current)==null?void 0:Z.y)??0))}},de=X=>{M.x<=10&&M.y<=10?X.preventDefault():b.contains(X.target)||j(!1),document.removeEventListener("pointermove",ee),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",de,{capture:!0})}}},[b,j,D]),f.useEffect(()=>{const M=()=>j(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[j]);const[ce,$]=Oc(M=>{const ee=N().filter(te=>!te.disabled),de=ee.find(te=>te.ref.current===document.activeElement),X=Ic(ee,M,de);X&&setTimeout(()=>X.ref.current.focus())}),G=f.useCallback((M,ee,de)=>{const X=!L.current&&!de;(x.value!==void 0&&x.value===ee||X)&&(R(M),X&&(L.current=!0))},[x.value]),J=f.useCallback(()=>b==null?void 0:b.focus(),[b]),ue=f.useCallback((M,ee,de)=>{const X=!L.current&&!de;(x.value!==void 0&&x.value===ee||X)&&I(M)},[x.value]),Se=n==="popper"?zs:vc,ne=Se===zs?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:g,sticky:y,hideWhenDetached:m,avoidCollisions:v}:{};return u.jsx(mc,{scope:r,content:b,viewport:S,onViewportChange:P,itemRefCallback:G,selectedItem:T,onItemLeave:J,itemTextRefCallback:ue,focusSelectedItem:U,selectedItemText:F,position:n,isPositioned:B,searchRef:ce,children:u.jsx(jo,{as:fr,allowPinchZoom:!0,children:u.jsx(Po,{asChild:!0,trapped:x.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:H(s,M=>{var ee;(ee=x.trigger)==null||ee.focus({preventScroll:!0}),M.preventDefault()}),children:u.jsx(zr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(Se,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:M=>M.preventDefault(),...w,...ne,onPlaced:()=>A(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:H(w.onKeyDown,M=>{const ee=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!ee&&M.key.length===1&&$(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let X=N().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(M.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const te=M.target,Z=X.indexOf(te);X=X.slice(Z+1)}setTimeout(()=>O(X)),M.preventDefault()}})})})})})})});gc.displayName=jy;var ky="SelectItemAlignedPosition",vc=f.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=jt(Ft,r),i=kt(Ft,r),[a,l]=f.useState(null),[c,d]=f.useState(null),p=se(e,C=>d(C)),h=Yn(r),g=f.useRef(!1),y=f.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:w,focusSelectedItem:x}=i,b=f.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&m&&v&&w){const C=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),F=w.getBoundingClientRect();if(o.dir!=="rtl"){const te=F.left-T.left,Z=R.left-te,we=C.left-Z,Te=C.width+we,at=Math.max(Te,T.width),Oe=window.innerWidth-Me,At=Ni(Z,[Me,Math.max(Me,Oe-at)]);a.style.minWidth=Te+"px",a.style.left=At+"px"}else{const te=T.right-F.right,Z=window.innerWidth-R.right-te,we=window.innerWidth-C.right-Z,Te=C.width+we,at=Math.max(Te,T.width),Oe=window.innerWidth-Me,At=Ni(Z,[Me,Math.max(Me,Oe-at)]);a.style.minWidth=Te+"px",a.style.right=At+"px"}const I=h(),N=window.innerHeight-Me*2,B=m.scrollHeight,A=window.getComputedStyle(c),L=parseInt(A.borderTopWidth,10),O=parseInt(A.paddingTop,10),U=parseInt(A.borderBottomWidth,10),j=parseInt(A.paddingBottom,10),D=L+O+B+j+U,ce=Math.min(v.offsetHeight*5,D),$=window.getComputedStyle(m),G=parseInt($.paddingTop,10),J=parseInt($.paddingBottom,10),ue=C.top+C.height/2-Me,Se=N-ue,ne=v.offsetHeight/2,M=v.offsetTop+ne,ee=L+O+M,de=D-ee;if(ee<=ue){const te=I.length>0&&v===I[I.length-1].ref.current;a.style.bottom="0px";const Z=c.clientHeight-m.offsetTop-m.offsetHeight,we=Math.max(Se,ne+(te?J:0)+Z+U),Te=ee+we;a.style.height=Te+"px"}else{const te=I.length>0&&v===I[0].ref.current;a.style.top="0px";const we=Math.max(ue,L+m.offsetTop+(te?G:0)+ne)+de;a.style.height=we+"px",m.scrollTop=ee-ue+m.offsetTop}a.style.margin=`${Me}px 0`,a.style.minHeight=ce+"px",a.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,a,c,m,v,w,o.dir,n]);be(()=>b(),[b]);const[_,S]=f.useState();be(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const P=f.useCallback(C=>{C&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return u.jsx(Ry,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:P,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(Q.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vc.displayName=ky;var Ay="SelectPopperPosition",zs=f.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Me,...o}=t,i=Qn(r);return u.jsx(ol,{...i,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zs.displayName=Ay;var[Ry,ko]=Cr(Ft,{}),qs="SelectViewport",yc=f.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=kt(qs,r),i=ko(qs,r),a=se(e,o.onViewportChange),l=f.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(Jn.Slot,{scope:r,children:u.jsx(Q.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:H(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&p){const g=Math.abs(l.current-d.scrollTop);if(g>0){const y=window.innerHeight-Me*2,m=parseFloat(p.style.minHeight),v=parseFloat(p.style.height),w=Math.max(m,v);if(w<y){const x=w+g,b=Math.min(y,x),_=x-b;p.style.height=b+"px",p.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,p.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});yc.displayName=qs;var bc="SelectGroup",[Ny,Oy]=Cr(bc),Iy=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Zt();return u.jsx(Ny,{scope:r,id:s,children:u.jsx(Q.div,{role:"group","aria-labelledby":s,...n,ref:e})})});Iy.displayName=bc;var wc="SelectLabel",xc=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Oy(wc,r);return u.jsx(Q.div,{id:s.id,...n,ref:e})});xc.displayName=wc;var Cn="SelectItem",[Dy,_c]=Cr(Cn),Sc=f.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=t,a=jt(Cn,r),l=kt(Cn,r),c=a.value===n,[d,p]=f.useState(o??""),[h,g]=f.useState(!1),y=se(e,x=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,x,n,s)}),m=Zt(),v=f.useRef("touch"),w=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Dy,{scope:r,value:n,disabled:s,textId:m,isSelected:c,onItemTextChange:f.useCallback(x=>{p(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(Jn.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:u.jsx(Q.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:H(i.onFocus,()=>g(!0)),onBlur:H(i.onBlur,()=>g(!1)),onClick:H(i.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:H(i.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:H(i.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:H(i.onPointerMove,x=>{var b;v.current=x.pointerType,s?(b=l.onItemLeave)==null||b.call(l):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:H(i.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:H(i.onKeyDown,x=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(xy.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});Sc.displayName=Cn;var Ar="SelectItemText",Ec=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,i=jt(Ar,r),a=kt(Ar,r),l=_c(Ar,r),c=Cy(Ar,r),[d,p]=f.useState(null),h=se(e,w=>p(w),l.onItemTextChange,w=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,w,l.value,l.disabled)}),g=d==null?void 0:d.textContent,y=f.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=c;return be(()=>(m(y),()=>v(y)),[m,v,y]),u.jsxs(u.Fragment,{children:[u.jsx(Q.span,{id:l.textId,...o,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?yr.createPortal(o.children,i.valueNode):null]})});Ec.displayName=Ar;var Cc="SelectItemIndicator",Tc=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return _c(Cc,r).isSelected?u.jsx(Q.span,{"aria-hidden":!0,...n,ref:e}):null});Tc.displayName=Cc;var Vs="SelectScrollUpButton",Pc=f.forwardRef((t,e)=>{const r=kt(Vs,t.__scopeSelect),n=ko(Vs,t.__scopeSelect),[s,o]=f.useState(!1),i=se(e,n.onScrollButtonChange);return be(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(kc,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Pc.displayName=Vs;var Ws="SelectScrollDownButton",jc=f.forwardRef((t,e)=>{const r=kt(Ws,t.__scopeSelect),n=ko(Ws,t.__scopeSelect),[s,o]=f.useState(!1),i=se(e,n.onScrollButtonChange);return be(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(kc,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});jc.displayName=Ws;var kc=f.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=kt("SelectScrollButton",r),i=f.useRef(null),a=Yn(r),l=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),be(()=>{var d;const c=a().find(p=>p.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Q.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:H(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:H(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:H(s.onPointerLeave,()=>{l()})})}),$y="SelectSeparator",Ac=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(Q.div,{"aria-hidden":!0,...n,ref:e})});Ac.displayName=$y;var Ks="SelectArrow",My=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Qn(r),o=jt(Ks,r),i=kt(Ks,r);return o.open&&i.position==="popper"?u.jsx(il,{...s,...n,ref:e}):null});My.displayName=Ks;function Rc(t){return t===""||t===void 0}var Nc=f.forwardRef((t,e)=>{const{value:r,...n}=t,s=f.useRef(null),o=se(e,s),i=Iv(r);return f.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==r&&d){const p=new Event("change",{bubbles:!0});d.call(a,r),a.dispatchEvent(p)}},[i,r]),u.jsx(qr,{asChild:!0,children:u.jsx("select",{...n,ref:o,defaultValue:r})})});Nc.displayName="BubbleSelect";function Oc(t){const e=Ne(t),r=f.useRef(""),n=f.useRef(0),s=f.useCallback(i=>{const a=r.current+i;e(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function Ic(t,e,r){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=Ly(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==r));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function Ly(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Fy=ac,Dc=cc,Uy=dc,By=hc,Hy=fc,$c=pc,zy=yc,Mc=xc,Lc=Sc,qy=Ec,Vy=Tc,Fc=Pc,Uc=jc,Bc=Ac;const Hc=Fy,zc=Uy,Ao=f.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(Dc,{ref:n,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,u.jsx(By,{asChild:!0,children:u.jsx(ka,{className:"h-4 w-4 opacity-50"})})]}));Ao.displayName=Dc.displayName;const qc=f.forwardRef(({className:t,...e},r)=>u.jsx(Fc,{ref:r,className:Y("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Ld,{className:"h-4 w-4"})}));qc.displayName=Fc.displayName;const Vc=f.forwardRef(({className:t,...e},r)=>u.jsx(Uc,{ref:r,className:Y("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(ka,{className:"h-4 w-4"})}));Vc.displayName=Uc.displayName;const Ro=f.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>u.jsx(Hy,{children:u.jsxs($c,{ref:s,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(qc,{}),u.jsx(zy,{className:Y("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(Vc,{})]})}));Ro.displayName=$c.displayName;const Wy=f.forwardRef(({className:t,...e},r)=>u.jsx(Mc,{ref:r,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Wy.displayName=Mc.displayName;const No=f.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(Lc,{ref:n,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Vy,{children:u.jsx(Md,{className:"h-4 w-4"})})}),u.jsx(qy,{children:e})]}));No.displayName=Lc.displayName;const Ky=f.forwardRef(({className:t,...e},r)=>u.jsx(Bc,{ref:r,className:Y("-mx-1 my-1 h-px bg-muted",t),...e}));Ky.displayName=Bc.displayName;const Gy=()=>{const t=Pn(),[e,r]=f.useState(!1),[n,s]=f.useState({course:"",professor:"",fileType:"",label:"",file:null}),o=["Notes","Syllabus","Past Exams","Exam Solutions","Homework","Cheat Sheet","Study Guide"],i=l=>{var d;const c=(d=l.target.files)==null?void 0:d[0];c&&s({...n,file:c})},a=async l=>{if(l.preventDefault(),!n.course||!n.professor||!n.fileType||!n.label||!n.file){De({title:"Please fill all fields",variant:"destructive"});return}r(!0);try{const c=`${Date.now()}-${n.file.name}`,d=`uploads/${c}`;console.log("Starting file upload to storage:",{fileName:c,filePath:d,fileSize:n.file.size,fileType:n.file.type});const{error:p}=await fe.storage.from("uploads").upload(d,n.file,{contentType:n.file.type,cacheControl:"3600",upsert:!1,duplex:"half"});if(p)throw console.error("Storage upload error:",p),p;console.log("File uploaded successfully to storage");const h={file_name:n.file.name,file_url:d,course:n.course,professor:n.professor,file_type:n.fileType,label:n.label,file_size:n.file.size,mime_type:n.file.type,upvotes:0,downvotes:0,username:"Anonymous User",user_id:"anonymous"};console.log("Inserting database record:",h);const{error:g}=await fe.from("uploads").insert(h);if(g){console.error("Database insert error:",g);try{await fe.storage.from("uploads").remove([d]),console.log("Cleaned up storage file after database error")}catch(m){console.error("Failed to clean up storage file:",m)}throw g}console.log("Database record created successfully"),console.log("Incrementing upload count");const{error:y}=await fe.rpc("increment_upload_count");if(y)throw console.error("Error incrementing count:",y),y;console.log("Upload count incremented successfully"),r(!1),De({title:"Upload successful!",description:"Your material has been shared with the community"}),t("/browse")}catch(c){console.error("Detailed upload error:",c),c instanceof Error&&console.error("Error stack:",c.stack),r(!1),De({title:"Upload failed",description:c instanceof Error?c.message:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[u.jsx("header",{className:"border-b border-gray-200 bg-white",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-columbia-blue rounded-lg flex items-center justify-center text-xl text-white",children:"✏️"}),u.jsx("h1",{className:"ml-3 text-xl font-bold text-gray-900",children:"NotesHub @Columbia"})]}),u.jsx(ye,{variant:"outline",onClick:()=>t("/"),children:"Back to Home"})]})})}),u.jsxs("main",{className:"flex-1 max-w-3xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Upload Study Materials"}),u.jsx("p",{className:"text-lg text-gray-600",children:"Share your notes, exams, and other materials to help fellow Columbia students"})]}),u.jsxs(Kn,{children:[u.jsx(So,{children:u.jsxs(Eo,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-columbia-blue",children:"📤"}),"Upload New Material"]})}),u.jsx(Co,{children:u.jsxs("form",{onSubmit:a,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(Ye,{htmlFor:"course",className:"text-base font-semibold",children:"Course"}),u.jsx(_t,{id:"course",placeholder:"e.g., MATH 1102, ECON 1105, COMS 3157",value:n.course,onChange:l=>s({...n,course:l.target.value}),className:"mt-1",required:!0}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the course code and name"})]}),u.jsxs("div",{children:[u.jsx(Ye,{htmlFor:"professor",className:"text-base font-semibold",children:"Professor Name"}),u.jsx(_t,{id:"professor",placeholder:"Enter professor's name",value:n.professor,onChange:l=>s({...n,professor:l.target.value}),className:"mt-1",required:!0})]}),u.jsxs("div",{children:[u.jsx(Ye,{htmlFor:"fileType",className:"text-base font-semibold",children:"File Type"}),u.jsxs(Hc,{onValueChange:l=>s({...n,fileType:l}),children:[u.jsx(Ao,{className:"mt-1",children:u.jsx(zc,{placeholder:"Select file type"})}),u.jsx(Ro,{className:"bg-white",children:o.map(l=>u.jsx(No,{value:l,children:l},l))})]})]}),u.jsxs("div",{children:[u.jsx(Ye,{htmlFor:"label",className:"text-base font-semibold",children:"File Label"}),u.jsx(_t,{id:"label",placeholder:"Brief description of your file (e.g., 'Midterm 1 Study Guide')",value:n.label,onChange:l=>s({...n,label:l.target.value}),className:"mt-1",required:!0}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Help others understand what your file contains"})]}),u.jsxs("div",{children:[u.jsx(Ye,{htmlFor:"file",className:"text-base font-semibold",children:"File Upload"}),u.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-columbia-blue transition-colors",children:u.jsxs("div",{className:"space-y-1 text-center",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:u.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),u.jsxs("div",{className:"flex text-sm text-gray-600",children:[u.jsxs("label",{htmlFor:"file",className:"relative cursor-pointer bg-white rounded-md font-medium text-columbia-blue hover:text-columbia-blue-dark",children:[u.jsx("span",{children:"Upload a file"}),u.jsx("input",{id:"file",type:"file",className:"sr-only",onChange:i,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",required:!0})]}),u.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, TXT, or image files up to 10MB"}),n.file&&u.jsxs("p",{className:"text-sm text-columbia-blue font-medium",children:["Selected: ",n.file.name]})]})})]}),u.jsx(ye,{type:"submit",className:"w-full bg-columbia-blue hover:bg-columbia-blue-dark font-semibold py-3",disabled:e,children:e?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Uploading..."]}):"Upload Material"})]})})]})]}),u.jsx(To,{})]})},Jy=Rn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Yy({className:t,variant:e,...r}){return u.jsx("div",{className:Y(Jy({variant:e}),t),...r})}var Oo="Dialog",[Wc,Kc]=Hr(Oo),[Qy,ze]=Wc(Oo),Gc=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=f.useRef(null),l=f.useRef(null),[c=!1,d]=yn({prop:n,defaultProp:s,onChange:o});return u.jsx(Qy,{scope:e,triggerRef:a,contentRef:l,contentId:Zt(),titleId:Zt(),descriptionId:Zt(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(p=>!p),[d]),modal:i,children:r})};Gc.displayName=Oo;var Jc="DialogTrigger",Yc=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ze(Jc,r),o=se(e,s.triggerRef);return u.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$o(s.open),...n,ref:o,onClick:H(t.onClick,s.onOpenToggle)})});Yc.displayName=Jc;var Io="DialogPortal",[Xy,Qc]=Wc(Io,{forceMount:void 0}),Xc=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=ze(Io,e);return u.jsx(Xy,{scope:e,forceMount:r,children:f.Children.map(n,i=>u.jsx(br,{present:r||o.open,children:u.jsx(jn,{asChild:!0,container:s,children:i})}))})};Xc.displayName=Io;var Tn="DialogOverlay",Zc=f.forwardRef((t,e)=>{const r=Qc(Tn,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=ze(Tn,t.__scopeDialog);return o.modal?u.jsx(br,{present:n||o.open,children:u.jsx(Zy,{...s,ref:e})}):null});Zc.displayName=Tn;var Zy=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ze(Tn,r);return u.jsx(jo,{as:fr,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Q.div,{"data-state":$o(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ut="DialogContent",eu=f.forwardRef((t,e)=>{const r=Qc(Ut,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=ze(Ut,t.__scopeDialog);return u.jsx(br,{present:n||o.open,children:o.modal?u.jsx(eb,{...s,ref:e}):u.jsx(tb,{...s,ref:e})})});eu.displayName=Ut;var eb=f.forwardRef((t,e)=>{const r=ze(Ut,t.__scopeDialog),n=f.useRef(null),s=se(e,r.contentRef,n);return f.useEffect(()=>{const o=n.current;if(o)return Zl(o)},[]),u.jsx(tu,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:H(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:H(t.onFocusOutside,o=>o.preventDefault())})}),tb=f.forwardRef((t,e)=>{const r=ze(Ut,t.__scopeDialog),n=f.useRef(!1),s=f.useRef(!1);return u.jsx(tu,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),tu=f.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=ze(Ut,r),l=f.useRef(null),c=se(e,l);return Yl(),u.jsxs(u.Fragment,{children:[u.jsx(Po,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(zr,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$o(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(nb,{titleId:a.titleId}),u.jsx(ob,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Do="DialogTitle",ru=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ze(Do,r);return u.jsx(Q.h2,{id:s.titleId,...n,ref:e})});ru.displayName=Do;var nu="DialogDescription",su=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ze(nu,r);return u.jsx(Q.p,{id:s.descriptionId,...n,ref:e})});su.displayName=nu;var ou="DialogClose",iu=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ze(ou,r);return u.jsx(Q.button,{type:"button",...n,ref:e,onClick:H(t.onClick,()=>s.onOpenChange(!1))})});iu.displayName=ou;function $o(t){return t?"open":"closed"}var au="DialogTitleWarning",[rb,lu]=Qu(au,{contentName:Ut,titleName:Do,docsSlug:"dialog"}),nb=({titleId:t})=>{const e=lu(au),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},sb="DialogDescriptionWarning",ob=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lu(sb).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},ib=Gc,ab=Yc,lb=Xc,cb=Zc,ub=eu,db=ru,hb=su,cu=iu,uu="AlertDialog",[fb,Jb]=Hr(uu,[Kc]),it=Kc(),du=t=>{const{__scopeAlertDialog:e,...r}=t,n=it(e);return u.jsx(ib,{...n,...r,modal:!0})};du.displayName=uu;var pb="AlertDialogTrigger",hu=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=it(r);return u.jsx(ab,{...s,...n,ref:e})});hu.displayName=pb;var mb="AlertDialogPortal",fu=t=>{const{__scopeAlertDialog:e,...r}=t,n=it(e);return u.jsx(lb,{...n,...r})};fu.displayName=mb;var gb="AlertDialogOverlay",pu=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=it(r);return u.jsx(cb,{...s,...n,ref:e})});pu.displayName=gb;var nr="AlertDialogContent",[vb,yb]=fb(nr),mu=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,o=it(r),i=f.useRef(null),a=se(e,i),l=f.useRef(null);return u.jsx(rb,{contentName:nr,titleName:gu,docsSlug:"alert-dialog",children:u.jsx(vb,{scope:r,cancelRef:l,children:u.jsxs(ub,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:H(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(Zi,{children:n}),u.jsx(wb,{contentRef:i})]})})})});mu.displayName=nr;var gu="AlertDialogTitle",vu=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=it(r);return u.jsx(db,{...s,...n,ref:e})});vu.displayName=gu;var yu="AlertDialogDescription",bu=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=it(r);return u.jsx(hb,{...s,...n,ref:e})});bu.displayName=yu;var bb="AlertDialogAction",wu=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=it(r);return u.jsx(cu,{...s,...n,ref:e})});wu.displayName=bb;var xu="AlertDialogCancel",_u=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=yb(xu,r),o=it(r),i=se(e,s);return u.jsx(cu,{...o,...n,ref:i})});_u.displayName=xu;var wb=({contentRef:t})=>{const e=`\`${nr}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${nr}\` by passing a \`${yu}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${nr}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},xb=du,_b=hu,Sb=fu,Su=pu,Eu=mu,Cu=wu,Tu=_u,Pu=vu,ju=bu;const zi=xb,qi=_b,Eb=Sb,ku=f.forwardRef(({className:t,...e},r)=>u.jsx(Su,{className:Y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));ku.displayName=Su.displayName;const Gs=f.forwardRef(({className:t,...e},r)=>u.jsxs(Eb,{children:[u.jsx(ku,{}),u.jsx(Eu,{ref:r,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Gs.displayName=Eu.displayName;const Js=({className:t,...e})=>u.jsx("div",{className:Y("flex flex-col space-y-2 text-center sm:text-left",t),...e});Js.displayName="AlertDialogHeader";const Ys=({className:t,...e})=>u.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ys.displayName="AlertDialogFooter";const Qs=f.forwardRef(({className:t,...e},r)=>u.jsx(Pu,{ref:r,className:Y("text-lg font-semibold",t),...e}));Qs.displayName=Pu.displayName;const Xs=f.forwardRef(({className:t,...e},r)=>u.jsx(ju,{ref:r,className:Y("text-sm text-muted-foreground",t),...e}));Xs.displayName=ju.displayName;const Zs=f.forwardRef(({className:t,...e},r)=>u.jsx(Cu,{ref:r,className:Y(_o(),t),...e}));Zs.displayName=Cu.displayName;const eo=f.forwardRef(({className:t,...e},r)=>u.jsx(Tu,{ref:r,className:Y(_o({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));eo.displayName=Tu.displayName;const Cb=({upload:t,currentUserId:e,onUpdate:r})=>{const[n,s]=f.useState(!1),[o,i]=f.useState(!1),[a,l]=f.useState(!1),[c,d]=f.useState({course:t.course,professor:t.professor,fileType:t.file_type,label:t.label}),p=["Notes","Syllabus","Past Exams","Exam Solutions","Homework","Cheat Sheet"],h=async y=>{y.preventDefault(),i(!0);try{const{error:m}=await fe.from("uploads").update({course:c.course,professor:c.professor,file_type:c.fileType,label:c.label}).eq("id",t.id);if(m)throw m;De({title:"Upload updated successfully!"}),s(!1),r()}catch(m){console.error("Error updating upload:",m),De({title:"Failed to update upload",variant:"destructive"})}finally{i(!1)}},g=async()=>{l(!0);try{const{error:y}=await fe.from("uploads").delete().eq("id",t.id);if(y)throw y;De({title:"Upload deleted successfully!"}),r()}catch(y){console.error("Error deleting upload:",y),De({title:"Failed to delete upload",variant:"destructive"})}finally{l(!1)}};return t.user_id!==e?null:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(zi,{open:n,onOpenChange:s,children:[u.jsx(qi,{asChild:!0,children:u.jsxs(ye,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[u.jsx(Bd,{className:"h-3 w-3"}),"Edit"]})}),u.jsxs(Gs,{className:"max-w-md",children:[u.jsxs(Js,{children:[u.jsx(Qs,{children:"Edit Upload"}),u.jsx(Xs,{children:"Update the details of your upload"})]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ye,{htmlFor:"edit-course",children:"Course"}),u.jsx(_t,{id:"edit-course",value:c.course,onChange:y=>d({...c,course:y.target.value}),required:!0})]}),u.jsxs("div",{children:[u.jsx(Ye,{htmlFor:"edit-professor",children:"Professor"}),u.jsx(_t,{id:"edit-professor",value:c.professor,onChange:y=>d({...c,professor:y.target.value}),required:!0})]}),u.jsxs("div",{children:[u.jsx(Ye,{htmlFor:"edit-fileType",children:"File Type"}),u.jsxs(Hc,{value:c.fileType,onValueChange:y=>d({...c,fileType:y}),children:[u.jsx(Ao,{children:u.jsx(zc,{})}),u.jsx(Ro,{className:"bg-white",children:p.map(y=>u.jsx(No,{value:y,children:y},y))})]})]}),u.jsxs("div",{children:[u.jsx(Ye,{htmlFor:"edit-label",children:"Label"}),u.jsx(_t,{id:"edit-label",value:c.label,onChange:y=>d({...c,label:y.target.value}),required:!0})]}),u.jsxs(Ys,{children:[u.jsx(eo,{children:"Cancel"}),u.jsx(Zs,{asChild:!0,children:u.jsx(ye,{type:"submit",disabled:o,children:o?"Updating...":"Update"})})]})]})]})]}),u.jsxs(zi,{children:[u.jsx(qi,{asChild:!0,children:u.jsxs(ye,{size:"sm",variant:"outline",className:"flex items-center gap-1 text-red-600 hover:text-red-700",children:[u.jsx(Hd,{className:"h-3 w-3"}),"Delete"]})}),u.jsxs(Gs,{children:[u.jsxs(Js,{children:[u.jsx(Qs,{children:"Delete Upload"}),u.jsx(Xs,{children:"Are you sure you want to delete this upload? This action cannot be undone."})]}),u.jsxs(Ys,{children:[u.jsx(eo,{children:"Cancel"}),u.jsx(Zs,{onClick:g,disabled:a,className:"bg-red-600 hover:bg-red-700",children:a?"Deleting...":"Delete"})]})]})]})]})},Tb=()=>{const{user:t}=Kl(),e=Pn(),[r,n]=f.useState([]),[s,o]=f.useState([]),[i,a]=f.useState(""),[l,c]=f.useState({}),[d,p]=f.useState(!0),[h,g]=f.useState(null);f.useEffect(()=>{y(),m();const b=fe.channel("uploads-changes").on("postgres_changes",{event:"*",schema:"public",table:"uploads"},_=>{console.log("Real-time update:",_),y()}).subscribe();return()=>{fe.removeChannel(b)}},[]);const y=async()=>{try{p(!0),g(null);const{data:b,error:_}=await fe.from("uploads").select("*").order("upload_date",{ascending:!1});if(_)throw _;const S=(b||[]).filter(T=>T&&T.id&&T.file_url&&T.file_name),[P,C]=await S.reduce(async(T,R)=>{const[F,I]=await T,{data:N}=await fe.storage.from("uploads").list(R.file_url.split("/")[0],{search:R.file_url.split("/")[1]});return N&&N.length>0?[[...F,R],I]:[F,[...I,R.id]]},Promise.resolve([[],[]]));C.length>0&&(console.log("Cleaning up missing files:",C),await fe.from("uploads").delete().in("id",C)),n(P),o(P)}catch(b){console.error("Error fetching uploads:",b),g("Failed to load study materials. Please try again later."),De({title:"Error loading materials",description:"Please refresh the page or try again later.",variant:"destructive"})}finally{p(!1)}},m=async()=>{if(t)try{const{data:b,error:_}=await fe.from("votes").select("upload_id, vote_type").eq("user_id",t.id);if(_)throw _;const S={};b==null||b.forEach(P=>{S[P.upload_id]=P.vote_type}),c(S)}catch(b){console.error("Error fetching user votes:",b)}};f.useEffect(()=>{let b=r;i&&(b=b.filter(_=>_.course.toLowerCase().includes(i.toLowerCase())||_.professor.toLowerCase().includes(i.toLowerCase())||_.label.toLowerCase().includes(i.toLowerCase()))),o(b)},[r,i]);const v=async(b,_)=>{var S;if(t)try{const P=l[b];if(P===_){await fe.from("votes").delete().eq("user_id",t.id).eq("upload_id",b);const C=_==="up"?"upvotes":"downvotes";await fe.from("uploads").update({[C]:((S=r.find(T=>T.id===b))==null?void 0:S[C])-1}).eq("id",b),c(T=>{const R={...T};return delete R[b],R})}else{await fe.from("votes").upsert({user_id:t.id,upload_id:b,vote_type:_});const C=r.find(T=>T.id===b);if(C){let T=C.upvotes,R=C.downvotes;P==="up"?T--:P==="down"&&R--,_==="up"?T++:R++,await fe.from("uploads").update({upvotes:T,downvotes:R}).eq("id",b)}c(T=>({...T,[b]:_}))}y()}catch(P){console.error("Error handling vote:",P),De({title:"Error updating vote",variant:"destructive"})}},w=async b=>{try{console.log("Starting download for:",b.file_url);const{data:_}=fe.storage.from("uploads").getPublicUrl(b.file_url);if(!(_!=null&&_.publicUrl))throw new Error("Could not generate public URL");console.log("Got public URL, starting download...");const S=await fetch(_.publicUrl,{headers:{Accept:b.mime_type||"application/octet-stream"},cache:"no-cache"});if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const P=S.headers.get("content-type");console.log("Received content type:",P);const C=await S.blob();console.log("Downloaded blob size:",C.size,"type:",C.type);const T=URL.createObjectURL(new Blob([C],{type:b.mime_type||"application/octet-stream"})),R=document.createElement("a");R.href=T,R.download=b.file_name,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(T),De({title:"Download started",description:`Downloading ${b.file_name} (${Math.round(C.size/1024)}KB)`})}catch(_){console.error("Detailed download error:",_),De({title:"Download failed",description:_ instanceof Error?_.message:"There was an error downloading the file. Please try again.",variant:"destructive"})}},x=b=>({Notes:"bg-blue-100 text-blue-800",Syllabus:"bg-green-100 text-green-800","Past Exams":"bg-red-100 text-red-800","Exam Solutions":"bg-purple-100 text-purple-800",Homework:"bg-orange-100 text-orange-800","Cheat Sheet":"bg-yellow-100 text-yellow-800","Study Guide":"bg-pink-100 text-pink-800"})[b]||"bg-gray-100 text-gray-800";return h?u.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[u.jsx("header",{className:"border-b border-gray-200 bg-white",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-columbia-blue rounded-lg flex items-center justify-center text-xl text-white",children:"✏️"}),u.jsx("h1",{className:"ml-3 text-xl font-bold text-gray-900",children:"NotesHub @Columbia"})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx(ye,{variant:"outline",onClick:()=>e("/upload"),children:"Upload"}),u.jsx(ye,{variant:"outline",onClick:()=>e("/"),children:"Home"})]})]})})}),u.jsx("main",{className:"flex-grow flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mb-4 text-red-500",children:"⚠️"}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:h}),u.jsx(ye,{onClick:y,children:"Try Again"})]})})]}):u.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[u.jsx("header",{className:"border-b border-gray-200 bg-white",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-columbia-blue rounded-lg flex items-center justify-center text-xl text-white",children:"✏️"}),u.jsx("h1",{className:"ml-3 text-xl font-bold text-gray-900",children:"NotesHub @Columbia"})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx(ye,{variant:"outline",onClick:()=>e("/upload"),children:"Upload"}),u.jsx(ye,{variant:"outline",onClick:()=>e("/"),children:"Home"})]})]})})}),u.jsxs("main",{className:"flex-1 max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Browse Study Materials"}),u.jsx("div",{className:"max-w-2xl",children:u.jsxs("div",{className:"relative",children:[u.jsx(_t,{placeholder:"Search by course (e.g., MATH 1102, ECON 1105), professor, or material...",value:i,onChange:b=>a(b.target.value),className:"pl-10 text-base"}),u.jsx(Ud,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]})})]}),u.jsx("div",{children:d?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent text-columbia-blue rounded-full"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Loading study materials..."})]}):s.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("span",{className:"text-2xl",children:"📚"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No materials found"}),u.jsx("p",{className:"text-gray-600 mb-4",children:r.length===0?"Be the first to upload some study materials!":"Try adjusting your search criteria"}),u.jsx(ye,{onClick:()=>e("/upload"),className:"bg-columbia-blue hover:bg-columbia-blue-dark",children:"Upload Materials"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(b=>u.jsxs(Kn,{className:"hover:shadow-lg transition-shadow",children:[u.jsx(So,{className:"pb-3",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(Eo,{className:"text-lg line-clamp-2",children:b.course}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Prof. ",b.professor]})]}),u.jsx(Yy,{className:x(b.file_type),children:b.file_type})]})}),u.jsx(Co,{children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"font-medium text-gray-900",children:b.label}),u.jsxs("p",{className:"text-sm text-gray-500",children:["📄 ",b.file_name]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[u.jsx(zd,{className:"h-4 w-4"}),u.jsx("span",{children:b.username})]}),u.jsx("p",{className:"text-xs text-gray-400",children:new Date(b.upload_date).toLocaleDateString()})]}),t&&b.user_id===t.id&&u.jsx("div",{className:"pt-2 border-t",children:u.jsx(Cb,{upload:b,currentUserId:t.id,onUpdate:y})}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{onClick:()=>v(b.id,"up"),className:`flex items-center space-x-1 px-2 py-1 rounded transition-colors ${l[b.id]==="up"?"bg-green-100 text-green-700":"hover:bg-gray-100"}`,children:[u.jsx("span",{children:"👍"}),u.jsx("span",{className:"text-sm",children:b.upvotes})]}),u.jsxs("button",{onClick:()=>v(b.id,"down"),className:`flex items-center space-x-1 px-2 py-1 rounded transition-colors ${l[b.id]==="down"?"bg-red-100 text-red-700":"hover:bg-gray-100"}`,children:[u.jsx("span",{children:"👎"}),u.jsx("span",{className:"text-sm",children:b.downvotes})]})]}),u.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>w(b),className:"flex items-center gap-1",children:[u.jsx(Fd,{className:"h-4 w-4"}),"Download"]})]})]})})]},b.id))})})]}),u.jsx(To,{})]})},Pb=()=>{const t=Bu(),e=Pn();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[u.jsx("header",{className:"border-b border-gray-200 bg-white",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"flex justify-between items-center h-16",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-columbia-blue rounded-lg flex items-center justify-center text-xl text-white",children:"✏️"}),u.jsx("h1",{className:"ml-3 text-xl font-bold text-gray-900",children:"NotesHub @Columbia"})]})})})}),u.jsx("main",{className:"flex-grow flex items-center justify-center bg-gray-50",children:u.jsx("div",{className:"max-w-lg w-full px-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto w-24 h-24 bg-columbia-blue/10 rounded-full flex items-center justify-center mb-6",children:u.jsx("span",{className:"text-4xl",children:"📚"})}),u.jsx("h1",{className:"text-6xl font-bold text-columbia-blue mb-4",children:"404"}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Page Not Found"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Oops! Looks like this page is still in the library's restricted section. Let's get you back to where the knowledge flows freely."}),u.jsxs("div",{className:"space-x-4",children:[u.jsx(ye,{onClick:()=>e("/"),className:"bg-columbia-blue hover:bg-columbia-blue-dark",children:"Return to Home"}),u.jsx(ye,{onClick:()=>e("/browse"),variant:"outline",children:"Browse Materials"})]}),!1]})})}),u.jsx("footer",{className:"bg-white border-t border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8",children:u.jsx("p",{className:"text-center text-sm text-gray-500",children:"NotesHub @Columbia • Share Knowledge, Excel Together"})})})]})},jb=new Zp,kb=()=>u.jsx(tm,{client:jb,children:u.jsx(Ap,{children:u.jsxs(bv,{children:[u.jsx(Th,{}),u.jsx(tf,{}),u.jsx(Hu,{children:u.jsxs(zu,{children:[u.jsx(Xr,{path:"/",element:u.jsx(_v,{})}),u.jsx(Xr,{path:"/upload",element:u.jsx(Gy,{})}),u.jsx(Xr,{path:"/browse",element:u.jsx(Tb,{})}),u.jsx(Xr,{path:"*",element:u.jsx(Pb,{})})]})})]})})});class Ab extends f.Component{constructor(){super(...arguments);zo(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){var r;return this.state.hasError?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-md w-full space-y-8",children:u.jsxs("div",{children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Something went wrong"}),u.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:((r=this.state.error)==null?void 0:r.message)||"An error occurred while loading the application."}),!1,u.jsx("div",{className:"mt-4 text-center",children:u.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-columbia-blue hover:bg-columbia-blue-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-columbia-blue",children:"Reload Page"})})]})})}):this.props.children}}ta(document.getElementById("root")).render(u.jsx(f.StrictMode,{children:u.jsx(Ab,{children:u.jsx(kb,{})})}));
//# sourceMappingURL=index-5G-IUlO6.js.map
